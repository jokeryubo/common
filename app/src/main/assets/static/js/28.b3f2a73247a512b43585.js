webpackJsonp([28],{lkF4:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("Gu7T"),i=t.n(s),r=t("bOdI"),n=t.n(r),l=(t("MY4N"),t("0zAV")),o=t("xTpf"),c=t("VaMN"),h=t("cKc3"),m={name:"JobHunting",data:function(){return{laberPageShow:!1,laberShowType:"",laberTime:"发布时间",laberJob:"职位",laberPrice:"薪资",laberTimeData:[{name:"不限",value:""},{name:"一天以内",value:1},{name:"三天以内",value:3},{name:"七天以内",value:7},{name:"十五天以内",value:15},{name:"一个月以内",value:30}],laberJobData:[],laberPriceData:[{name:"不限",salaryLeft:"",salaryRight:""},{name:"1000元以下",salaryLeft:"",salaryRight:1e3},{name:"1000-2000元",salaryLeft:1e3,salaryRight:2e3},{name:"2000-3000元",salaryLeft:2e3,salaryRight:3e3},{name:"3000-5000元",salaryLeft:3e3,salaryRight:5e3},{name:"5000-8000元",salaryLeft:5e3,salaryRight:8e3},{name:"8000-12000元",salaryLeft:8e3,salaryRight:12e3},{name:"12000-20000元",salaryLeft:12e3,salaryRight:2e4},{name:"20000-25000元",salaryLeft:2e4,salaryRight:25e3},{name:"25000元以上",salaryLeft:25e3,salaryRight:""}],releaseDay:"",jobName:"",salaryLeft:"",salaryRight:"",selected:"1",selectedStorage:"1",city:"成都市",showtype:1,keyword:"",nodata1:!1,nodata2:!1,resumemData:[],recruitData:[],pageNum:1,loading:!1,finished:!1,loadingMessage:""}},watch:{},components:n()({InfiniteScroll:c.a,InfoItem:o.a},l.a.name,l.a),created:function(){this.city=this.$eventHub._data.$location.cityName,console.log("this.city",this.city),this.getSearchData(this.pageNum,"","1"==this.selected?"简历":"招聘")},mounted:function(){var a=this;$Hybrid.$eventHub.$off("nativeBack").$on("nativeBack",function(e){if(document.getElementById("myInput")!=document.activeElement)return""!=a.keyword?(a.keyword="",a.selected,a.pageNum=1,void a.getSearchData(a.pageNum,"refresh","1"==a.selected?"简历":"招聘")):void $Hybrid.appToNative("close");a.showtype=1})},methods:{changeCurrent:function(a){a!=this.selected&&(this.selectedStorage=a,this.laberPageShow=!1,this.laberJobData=[],this.laberTime="发布时间",this.laberJob="职位",this.laberPrice="薪资",this.keyword="",this.releaseDay="",this.jobName="",this.salaryLeft="",this.salaryRight="",this.loadingMessage="",this.selected=a,this.pageNum=1,this.getSearchData(this.pageNum,"refresh","1"==this.selected?"简历":"招聘"))},goBack:function(){return 2==this.showtype?(this.showtype=1,this.nodata1=!1,void(this.nodata2=!1)):""!=this.keyword?(this.keyword="",this.pageNum=1,void this.getSearchData(this.pageNum,"","1"==this.selected?"简历":"招聘")):void $Hybrid.appToNative("close")},laberClick:function(a,e,t){this.$refs.scrolldIV.scrollTop=0,this.pageNum=1,"发布时间"==this.laberShowType?(this.laberTime=a,"不限"==this.laberTime?this.releaseDay="":this.releaseDay=e,this.getSearchData(this.pageNum,"refresh","1"==this.selected?"简历":"招聘")):"职位"==this.laberShowType?(this.laberJob=a,"不限"==this.laberJob?this.jobName="":this.jobName=a,this.getSearchData(this.pageNum,"refresh","1"==this.selected?"简历":"招聘")):"薪资"==this.laberShowType&&(this.laberPrice=a,"不限"==this.laberPrice?(this.salaryLeft="",this.salaryRight=""):(this.salaryLeft=e,this.salaryRight=t),this.getSearchData(this.pageNum,"refresh","1"==this.selected?"简历":"招聘")),this.laberPageShow=!1},switchLabel:function(a){this.laberPageShow=!0,"职位"==a&&(this.laberJobData.length>0||this.getJobData()),this.laberShowType=a},onfocus:function(){this.showtype=2,this.laberPageShow=!1},onblur:function(){this.showtype=1},hotSearch:function(a){this.keyword=a,this.showtype=1,this.pageNum=1,this.loading=!1,this.loadingMessage="",this.resumemData=[],this.recruitData=[],this.getSearchData(this.pageNum,"","1"==this.selected?"简历":"招聘")},onSubmit:function(a){this.$refs.searchInput.blur(),this.pageNum=1,this.loading=!1,this.loadingMessage="",this.resumemData=[],this.recruitData=[],this.getSearchData(this.pageNum,"","1"==this.selected?"简历":"招聘"),this.showtype=1},loadTop:function(){this.loadingMessage="",this.nodata1=!1,this.nodata2=!1,this.pageNum=1,this.getSearchData(this.pageNum,"refresh","1"==this.selected?"简历":"招聘")},getJobData:function(){var a=this,e="";"1"==this.selectedStorage?e="/app/resume/postLabel":"2"==this.selectedStorage&&(e="/app/recruit/label"),h.a.get({url:e}).then(function(e){a.laberJobData=e.label,a.laberJobData.unshift("不限")})},getSearchData:function(a,e,t){var s=this,r=void 0;r="简历"==t?"app/resume/search":"app/recruit/search",h.a.post({url:r,data:{params:{name:this.keyword,city:this.city,pageNum:a,pageSize:20,releaseDay:this.releaseDay,jobName:this.jobName,salaryLeft:this.salaryLeft,salaryRight:this.salaryRight}}}).then(function(a){s.loading=!1;var r=a.data,n=r.total,l=r.list;"refresh"!==e?"简历"==t?s.resumemData=[].concat(i()(s.resumemData),i()(l)):s.recruitData=[].concat(i()(s.recruitData),i()(l)):"简历"==t?s.resumemData=[].concat(i()(l)):s.recruitData=[].concat(i()(l)),"简历"==t?(s.resumemData.length>=n?s.finished=!0:(s.pageNum+=1,s.finished=!1),0==n?(s.nodata1=!0,s.loadingMessage=""):(s.nodata1=!1,s.loadingMessage="已经全部加载完毕")):(s.recruitData.length>=n?s.finished=!0:(s.pageNum+=1,s.finished=!1),0==n?(s.nodata2=!0,s.loadingMessage=""):(s.nodata2=!1,s.loadingMessage="已经全部加载完毕"))})},loadMoreCallBack:function(){this.loadingMessage="",this.loading=!0,this.getSearchData(this.pageNum,"pageadd","1"==this.selected?"简历":"招聘")}}},u={render:function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("div",{attrs:{id:"dynamic-box"},on:{click:a.onblur}},[s("div",{staticClass:"box"},[s("div",{staticClass:"head"},[s("div",{staticClass:"top-tips"},[s("img",{attrs:{src:t("LHT2")},on:{click:function(e){return a.goBack()}}}),a._v(" "),s("div",{staticClass:"head-maring tab-bar"},[s("span",{class:"1"===a.selected?"current headtips":"headtips",on:{click:function(e){return a.changeCurrent("1")}}},[a._v("热门简历")]),a._v(" "),s("span",{class:"2"===a.selected?"current headtips":"headtips",on:{click:function(e){return a.changeCurrent("2")}}},[a._v("热门招聘")])])]),a._v(" "),s("div",{staticClass:"head-search"},[s("i",{staticClass:"mint-toast-icon mintui mintui-search"}),a._v(" "),s("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),a.onSubmit()}}},[s("van-field",{ref:"searchInput",attrs:{clearable:"",id:"myInput",type:"search",placeholder:"搜索职位名称"},on:{click:function(e){return e.stopPropagation(),a.onfocus()}},model:{value:a.keyword,callback:function(e){a.keyword=e},expression:"keyword"}})],1)])])]),a._v(" "),s("div",{staticClass:"search_laber"},[s("div",{class:"发布时间"==a.laberTime?"laber_content":"laber_content laber_active",on:{click:function(e){return a.switchLabel("发布时间")}}},[a._v("\n            "+a._s(a.laberTime)+"\n        ")]),a._v(" "),s("div",{class:"职位"==a.laberJob?"laber_content":"laber_content laber_active",on:{click:function(e){return a.switchLabel("职位")}}},[a._v("\n            "+a._s(a.laberJob)+"\n            \n        ")]),a._v(" "),s("div",{class:"薪资"==a.laberPrice?"laber_content":"laber_content laber_active",on:{click:function(e){return a.switchLabel("薪资")}}},[a._v("\n            "+a._s(a.laberPrice)+" \n        ")])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.laberPageShow,expression:"laberPageShow"}],staticClass:"laberPage"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"发布时间"==a.laberShowType,expression:"laberShowType=='发布时间'"}]},a._l(a.laberTimeData,function(e,t){return s("p",{key:t,on:{click:function(t){return a.laberClick(e.name,e.value)}}},[a._v("\n                "+a._s(e.name)+"\n            ")])}),0),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"职位"==a.laberShowType,expression:"laberShowType=='职位'"}]},a._l(a.laberJobData,function(e,t){return s("p",{key:t,on:{click:function(t){return a.laberClick(e)}}},[a._v("\n                "+a._s(e)+"\n            ")])}),0),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"薪资"==a.laberShowType,expression:"laberShowType=='薪资'"}]},a._l(a.laberPriceData,function(e,t){return s("p",{key:t,on:{click:function(t){return a.laberClick(e.name,e.salaryLeft,e.salaryRight)}}},[a._v("\n                "+a._s(e.name)+"\n            ")])}),0)]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==a.showtype&&!a.laberPageShow,expression:"showtype==1&&!laberPageShow"}],ref:"scrolldIV",staticClass:"container"},[s("infinite-scroll",{attrs:{isDelayed:!0,loading:a.loading,finished:a.finished,data:"1"===a.selected?a.resumemData:a.recruitData,text:a.loadingMessage},on:{refresh:a.loadTop,loadMore:a.loadMoreCallBack}},["1"===a.selected?s("div",{staticClass:"showResume"},[a._l(a.resumemData,function(e,t){return s("InfoItem",{key:t,staticClass:"infoItem",attrs:{itemData:a.resumemData[t],type:"resume"}})}),a._v(" "),a.nodata1?s("p",{staticClass:"nodata"},[a._v("暂未搜到相关简历，换个条件试试吧")]):a._e()],2):a._e(),a._v(" "),"2"===a.selected?s("div",{staticClass:"showRecruit"},[a._l(a.recruitData,function(e,t){return s("InfoItem",{key:t,staticClass:"infoItem",attrs:{itemData:a.recruitData[t],type:"job"}})}),a._v(" "),a.nodata2?s("p",{staticClass:"nodata"},[a._v("暂未搜到相关招聘，换个条件试试吧")]):a._e()],2):a._e()])],1),a._v(" "),2==a.showtype?s("div",[s("div",{staticClass:"searchPage"},[s("p",{staticClass:"title"},[a._v("\n                热门搜索\n            ")]),a._v(" "),s("div",{staticClass:"hot"},[s("p",{staticClass:"searchItem",on:{click:function(e){return a.hotSearch("咖啡师")}}},[a._v("咖啡师")]),a._v(" "),s("p",{staticClass:"searchItem",on:{click:function(e){return a.hotSearch("服务员")}}},[a._v("服务员")]),a._v(" "),s("p",{staticClass:"searchItem",on:{click:function(e){return a.hotSearch("厨师")}}},[a._v("厨师")]),a._v(" "),s("p",{staticClass:"searchItem",on:{click:function(e){return a.hotSearch("收银")}}},[a._v("收银")])])])]):a._e()])},staticRenderFns:[]};var d=t("VU/8")(m,u,!1,function(a){t("q34i")},"data-v-8229aafc",null);e.default=d.exports},msm9:function(a,e){},q34i:function(a,e){},xTpf:function(a,e,t){"use strict";var s=t("mvHQ"),i=t.n(s),r=t("B1Az"),n=(t("Au9i"),{data:function(){return{jobHighlightLabelArr:[]}},props:["itemData","type"],created:function(){},mounted:function(){this.itemData.jobHighlightLabel&&this.itemData.jobHighlightLabel.length>4?(this.jobHighlightLabelArr=JSON.parse(i()(this.itemData.jobHighlightLabel)),this.jobHighlightLabelArr.splice(3,this.jobHighlightLabelArr.length-4)):this.jobHighlightLabelArr=this.itemData.jobHighlightLabel},methods:{gopage:function(a){"resume"==this.type?this.$router.push({name:"ResumeDetial",params:{id:a}}):"job"==this.type&&this.$router.push({name:"JobDetialshow",params:{id:a}})}},components:{Cell:r.a}}),l={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"infoItem"},on:{click:function(e){return a.gopage(a.itemData.id)}}},[t("div",{staticClass:"infoBox"},[t("p",{staticClass:"main"},[t("span",{staticClass:"title"},[a._v(a._s(a.itemData.postLabel?a.itemData.postLabel.join("/"):a.itemData.intensionJobName))]),a._v(" "),t("span",{staticClass:"price"},[a._v(a._s(a.itemData.intensionSalLeft)+"-"+a._s(a.itemData.intensionSalRight))])]),a._v(" "),t("div",{staticClass:"contentBox"},[t("div",{staticClass:"right"},[t("p",{staticClass:"time"},[a._v("\n                    发布时间\n                    "),t("span",[a._v(a._s(a.itemData.createTime))])])]),a._v(" "),t("div",{staticClass:"left"},[t("div",{staticClass:"content"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.itemData.resumeAvatar+"?x-oss-process=image/resize,w_150",expression:"itemData.resumeAvatar+'?x-oss-process=image/resize,w_150'"}],staticClass:"image"}),a._v(" "),"job"==a.type?t("div",{staticClass:"desc"},[t("p",{staticClass:"name"},[a._v(a._s(a.itemData.realName))]),a._v(" "),t("div",{staticClass:"tags"},["简历"==a.itemData.flag?t("div",[t("span",{staticClass:"tag"},[a._v(a._s("1"==a.itemData.sex?"男":"女"))]),a._v(" "),t("span",{staticClass:"tag"},[a._v(a._s(a.itemData.age)+"岁")]),a._v(" "),t("span",{staticClass:"tag"},[a._v(a._s(a.itemData.jobYearsLeft)+"-"+a._s(a.itemData.jobYearsRight)+"年")]),a._v(" "),t("span",{staticClass:"tag"},[a._v(a._s(a.itemData.jobCity))])]):a._e(),a._v(" "),"招聘"==a.itemData.flag?t("div",[t("span",{staticClass:"tag"},[a._v(a._s(a.itemData.jobYearsLeft)+"-"+a._s(a.itemData.jobYearsRight)+"年")]),a._v(" "),a._l(JSON.parse(JSON.stringify(this.itemData.jobHighlightLabel)),function(e,s){return t("span",{key:s},[s<4?t("span",{staticClass:"tag"},[a._v(a._s(e.name))]):a._e()])})],2):a._e()])]):a._e(),a._v(" "),"resume"==a.type?t("div",{staticClass:"desc"},[t("p",{staticClass:"name"},[a._v(a._s(a.itemData.realName))]),a._v(" "),t("div",{staticClass:"tags"},[t("span",{staticClass:"laber_text"},[a._v(a._s("1"==a.itemData.sex?"男":"女"))]),a._v(" "),t("span",{staticClass:"icon"}),a._v(" "),t("span",{staticClass:"laber_text"},[a._v(a._s(a.itemData.age)+"岁")]),a._v(" "),t("span",{staticClass:"icon"}),a._v(" "),t("span",{staticClass:"laber_text"},[a._v(a._s(a.itemData.jobYearsLeft)+"-"+a._s(a.itemData.jobYearsRight)+"年")]),a._v(" "),t("span",{staticClass:"icon"}),a._v(" "),t("span",{staticClass:"laber_text"},[a._v(a._s(a.itemData.jobCity))])]),a._v(" "),a.itemData.dishesLabel.length>0?t("div",{staticClass:"tags"},a._l(a.itemData.dishesLabel,function(e,s){return t("span",{key:s,staticClass:"tag"},[a._v(a._s(e))])}),0):a._e()]):a._e()])])])])])},staticRenderFns:[]};var o=t("VU/8")(n,l,!1,function(a){t("msm9")},"data-v-1a2bd980",null);e.a=o.exports}});