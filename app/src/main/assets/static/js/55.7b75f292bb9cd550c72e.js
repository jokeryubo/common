webpackJsonp([55],{"HlN+":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mvHQ"),i=e.n(s),o=(e("NYxO"),e("fRSu")),l=e("Au9i"),n=e("cKc3"),r={data:function(){return{topbar:{isShow:!0,title:""},LaberData:[],SwitchType:"宣传案例",OssListData:{shopId:""},TagsListData:[],CompanyData:{},TagsCheckName:"",shopId:"",disabledloadMore:this.disabledloadMoreCallBack,loadMore:this.loadMoreCallBack,pageNum:1,total:"",loading:!1,loadingMessage:"",loadingType:!1,loadingMessageType:!1,loadMoreCallBackType:!1,AdvertOssAllData:{}}},created:function(){var t=this;sessionStorage.getItem("SwitchType")&&(this.SwitchType=sessionStorage.getItem("SwitchType"),sessionStorage.removeItem("SwitchType")),this.$route.params.AdvertDetailData?(this.OssListData=this.$route.params.AdvertDetailData,this.GetCompanyData(),this.GetData(1),this.GetServerData(),sessionStorage.setItem("AdvertDetailData",i()(this.$route.params.AdvertDetailData))):(sessionStorage.getItem("AdvertDetailData")?(this.OssListData=JSON.parse(sessionStorage.getItem("AdvertDetailData")),this.GetCompanyData(),this.GetData(1),this.GetServerData()):(this.$eventHub.$on("banner",function(a){t.OssListData.shopId=a.id,sessionStorage.setItem("AdvertDetailData",i()(t.OssListData)),t.GetCompanyData(),t.GetData(1),t.GetServerData()}),this.$eventHub.$on("DynamicData",function(a){console.log("接收参数",a),t.OssListData.shopId=a.id.shopInfoDO.id,sessionStorage.setItem("AdvertDetailData",i()(t.OssListData)),t.GetCompanyData(),t.GetServerData(),t.GetData(1)})),this.$eventHub.$off("toLogin").$on("toLogin",function(t){var a=t.token;$Hybrid.$token=a}))},destroyed:function(){this.$eventHub.$off("banner"),this.$eventHub.$off("DynamicData"),this.$eventHub.$off("toLogin")},mounted:function(){},components:{SearchTopbar:o.a,Toast:l.Toast},methods:{goBack:function(){sessionStorage.removeItem("AdvertCaseDetailTitle"),1===$Hybrid.routerList.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),this.$router.go(-1)),console.log("返回")},SwitchCheck:function(t){if(window.sessionStorage.setItem("SwitchType",t),t==this.SwitchType)return!1;this.SwitchType=t},GetData:function(t,a){var e=this;n.a.get({url:"app/case/list/all",data:{params:{shopId:this.OssListData.shopId,type:3,pageNum:t,pageSize:10}}}).then(function(t){e.loadingType=!1,e.loadingMessageType=!0,e.loadMoreCallBackType=!0,console.log("advert所有数据",t),e.total=t.total;try{if(e.AdvertOssAllData.list.length>1&&"pageadd"==a){var s=e.AdvertOssAllData;return t.list.forEach(function(t){s.list.push(t)}),e.AdvertOssAllData=s,e.AdvertOssAllData.pageNum=t.pageNum,console.log("所有数据88888",t),!1}}catch(t){}t.list.length<1&&(e.loadingMessage="暂无案例"),t.totalNum>10&&(e.loadingMessage="下拉加载更多"),t.totalNum<10&&t.totalNum>0&&(e.loadingMessage="已经全部加载完毕"),e.AdvertOssAllData=t,e.pageNum+=1,console.log("所有数据",e.AdvertOssAllData),console.log(e.loadingMessage)})},GetServerData:function(){var t=this;n.a.get({url:"app/advertisement/servicelist",data:{params:{shopId:this.OssListData.shopId}}}).then(function(a){t.LaberData=a,t.TagsCheckName=t.LaberData[0].labelName,t.TagsListData=t.LaberData[0],console.log("服务所有数据",a)})},GetCompanyData:function(){var t=this;n.a.get({url:"app/advertisement/detailoss",data:{params:{shopId:this.OssListData.shopId}}}).then(function(a){t.CompanyData=a,console.log("广告公司介绍和顶部标题数据",a)})},TagsSwitch:function(t){var a=this;this.LaberData.forEach(function(e){e.labelName==t&&(a.TagsListData=e,a.TagsCheckName=e.labelName)}),console.log("切换",this.TagsListData)},GotoDetail:function(t){var a=t.id,e=t.type,s=t.flag,i=void 0!==s&&s;"server"==e?sessionStorage.setItem("AdvertCaseDetailTitle","服务详情"):sessionStorage.removeItem("AdvertCaseDetailTitle"),2==i?this.$router.push({name:"AdvertAppDetail",params:{shopId:a}}):this.$router.push({name:"AdvertCaseDetail",params:{id:a,type:i}})},TagsType:function(t){return 1==t?"品牌推广":2==t?"流量推广":3==t?"销售推广":4==t?"会员推广":5==t?"新媒体运营":6==t?"微博运营":7==t?"微信运营":8==t?"网站运营":9==t?"混合型运营":void 0},disabledloadMoreCallBack:function(){return!1},loadMoreCallBack:function(){try{if(this.AdvertOssAllData.list.length>9){if(!(1*this.AdvertOssAllData.totalNum>1*this.AdvertOssAllData.list.length))return this.loadingMessage="已经全部加载完毕",!1;if(this.loading=!0,this.loadingType=!0,this.loadingMessageType=!1,!this.loadMoreCallBackType)return!1;this.loadMoreCallBackType=!1,this.GetData(this.AdvertOssAllData.pageNum+1,"pageadd"),console.log("分页请求")}}catch(t){}},HandClick:function(){if(!$Hybrid.$token)return $Hybrid.appToNative("toLogin"),!1;(new Date).getTime();$Hybrid.appToNative("makeChat",i()({id:"",title:"",userId:this.CompanyData.serviceUserId,nickName:this.CompanyData.serviceUserName,salary:"",describe:"",tagList:[],senderAvatar:"",senderName:"",timestamp:0,jobCity:"",isinvite:!1}))}}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"AdvertOssList"}},[s("div",{staticClass:"head"},[s("div",{staticClass:"top-left",on:{click:function(a){return t.goBack()}}},[s("img",{attrs:{src:e("LHT2")}})])]),t._v(" "),s("div",{staticClass:"dfdj"},[s("div",{staticClass:"bg-head even"},[s("div",{staticClass:"dfk-AddressInfo"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.CompanyData.logo+"?x-oss-process=image/resize,w_150",expression:"CompanyData.logo+'?x-oss-process=image/resize,w_150'"}],attrs:{alt:""}}),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.CompanyData.shopName))]),t._v(" "),1==t.CompanyData.isAdvertisement?s("span",{staticClass:"btn"},[t._v("已认证")]):t._e()])]),t._v(" "),s("div",{staticClass:"background  even-top"},[s("div",{staticClass:"margin"},[s("div",{staticClass:"list-head"},[s("div",{staticClass:"head-title ",class:"服务"==t.SwitchType?"head-title-active":"",on:{click:function(a){return t.SwitchCheck("服务")}}},[s("p",[t._v(t._s(t.CompanyData.serveiceNum))]),t._v(" "),s("p",[t._v("服务")])]),t._v(" "),s("div",{staticClass:"head-title",class:"宣传案例"==t.SwitchType?"head-title-active":"",on:{click:function(a){return t.SwitchCheck("宣传案例")}}},[s("p",[t._v(t._s(t.total))]),t._v(" "),s("p",[t._v("设计案例")])]),t._v(" "),s("div",{staticClass:"head-title",class:"公司介绍"==t.SwitchType?"head-title-active":"",on:{click:function(a){return t.SwitchCheck("公司介绍")}}},[s("p"),t._v(" "),s("p",[t._v("公司介绍")])])]),t._v(" "),"服务"==t.SwitchType?s("div",[s("div",{staticClass:"Lateral-Sliding-Box"},t._l(this.LaberData,function(a,e){return s("span",{key:e,staticClass:"label-btn",class:a.labelName==t.TagsCheckName?"label-btn-active":"",on:{click:function(e){return t.TagsSwitch(a.labelName)}}},[t._v("\n                            "+t._s(a.labelName)+"\n                        ")])}),0),t._v(" "),s("div",{staticClass:"server-list-box"},t._l(this.TagsListData.serviceList,function(a,e){return s("div",{key:e,on:{click:function(e){return t.GotoDetail({id:a.caseId,type:"server"})}}},[e<5?s("div",{staticClass:"server-list"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.casePicture+"?x-oss-process=image/resize,w_700",expression:"value.casePicture+'?x-oss-process=image/resize,w_700'"}],attrs:{alt:""}}),t._v(" "),s("div",{staticClass:"list-right"},[s("p",{staticClass:"title"},[t._v(t._s(a.title))]),t._v(" "),s("p",{staticClass:"price"},[t._v("¥"+t._s(a.cost))])])]):t._e()])}),0)]):t._e()]),t._v(" "),"宣传案例"==t.SwitchType?s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"xc",attrs:{"infinite-scroll-listen-for-event":t.disabledloadMore,"infinite-scroll-disabled":t.loading,"infinite-scroll-distance":"10"}},[s("div",{staticClass:"margin-16"},[s("div",{staticClass:"xc-list-box"},t._l(t.AdvertOssAllData.list,function(a,e){return s("div",{key:e,staticClass:"xc-list",on:{click:function(e){return t.GotoDetail({id:a.id,flag:a.type})}}},[a.imageList[0]?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.imageList[0]+"?x-oss-process=image/resize,w_700",expression:"value.imageList[0]+'?x-oss-process=image/resize,w_700'"}],attrs:{alt:""}}):t._e(),t._v(" "),s("p",{staticClass:"case-title"},[t._v(t._s(a.title))])])}),0)]),t._v(" "),s("div",{staticClass:"loading-box"},[s("mt-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loadingType,expression:"loadingType"}],attrs:{type:"fading-circle",color:"#54c2a7"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.loadingMessageType,expression:"loadingMessageType"}]},[t._v(t._s(t.loadingMessage))])],1)]):t._e(),t._v(" "),"公司介绍"==t.SwitchType?s("div",{staticClass:"xc company"},[s("div",{staticClass:"margin"},[s("div",{staticClass:"company-title"},[t._v("\n                        公司简介\n                    ")]),t._v(" "),s("div",{staticClass:"company-detail"},[t._v("\n                        "+t._s(this.CompanyData.profile?this.CompanyData.profile:"暂无公司介绍")+"\n\n                    ")]),t._v(" "),s("div",{staticClass:"company-footer"},[s("div",{staticClass:"footer-title"},[t._v("公司规模")]),t._v(" "),s("div",{staticClass:"footer-detail"},[t._v(t._s(this.CompanyData.scale?this.CompanyData.scale:"暂无公司规模"))])])])]):t._e()])]),t._v(" "),s("div",{staticClass:"footer-btn",on:{click:t.HandClick}},[t._v("\n        立即沟通\n    ")])])},staticRenderFns:[]};var d=e("VU/8")(r,c,!1,function(t){e("jUwa")},"data-v-ba0253e6",null);a.default=d.exports},jUwa:function(t,a){}});