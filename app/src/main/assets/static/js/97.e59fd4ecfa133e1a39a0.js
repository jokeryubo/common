webpackJsonp([97],{"kY/A":function(e,t){},x1Nk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("d4/4"),s=i("HeVE"),c=i("B1Az"),n=i("cKc3"),o=(i("oFuF"),i("Au9i")),r=(i("NYxO"),{data:function(){return{topbar:{isShow:!0,title:"明厨亮灶详情",callBack:this.goBack},selectionData:[],serviceData:[],bannerList:[],name:"",price:"",checkSelectPrice:0,checkServicePrice:0,totalPrice:"",specificationVO:{applicableScenario:"",displayScreen:"",camera:"",hardDisk:"",storage:"",afterService:""},details:[],mainImage:""}},mixins:[s.a],components:{BaseTopbar:a.a,Cell:c.a,Swipe:o.Swipe,SwipeItem:o.SwipeItem},created:function(){var e=this;this.$eventHub.$off("toLogin").$on("toLogin",function(e){var t=e.token;console.log("=====>",t),$Hybrid.$token=t});var t=window.sessionStorage.getItem("KitchenID");n.a.get({url:"order/kitchen/detailGet",data:{params:{detailId:t}}}).then(function(t){e.name=t.name,e.price=t.price,e.totalPrice=t.price,e.specificationVO=t.specification,e.details=t.graphic,e.mainImage=t.mainImage[0].url,e.bannerList=t.wheelPlanting;var i=t.valueAdded.map(function(e,t){return e.check=!1,e});e.selectionData=i,e.serviceData=t.valueAddedServices.map(function(e){return e.check=!1,e})}),window.sessionStorage.removeItem("valueAddedName"),window.sessionStorage.removeItem("valueAddedServicesName")},mounted:function(){var e=this;$Hybrid.$eventHub.$off("nativeBack").$on("nativeBack",function(t){console.log("原生返回"),window.sessionStorage.removeItem("valueAddedName"),window.sessionStorage.removeItem("mealMoney"),$Hybrid.routerList.pop(),e.$router.go(-1)})},destroyed:function(){$Hybrid.$eventHub.$off("nativeBack"),this.$eventHub.$off("toLogin")},methods:{handleClick:function(e){console.log("----\x3e",e)},goBack:function(){return window.sessionStorage.removeItem("valueAddedName"),window.sessionStorage.removeItem("mealMoney"),!0},GotoPage:function(e){if(console.log("-------\x3e",$Hybrid.$token),!$Hybrid.$token)return $Hybrid.appToNative("toLogin"),!1;window.sessionStorage.setItem("mealMoney",this.totalPrice),this.$router.push({name:"KitchenSure",params:{goodsInfo:{name:this.name,price:this.totalPrice,mainImage:this.mainImage}}})},check:function(e,t){var i=this;"selection"===t?this.selectionData=this.selectionData.map(function(t,a){return t.name==e.name?(t.check=!t.check,t.check?(i.checkSelectPrice=t.price,window.sessionStorage.setItem("valueAddedName",e.name)):(i.checkSelectPrice=0,window.sessionStorage.removeItem("valueAddedName"))):t.check=!1,t}):this.serviceData.forEach(function(t,a){t.name==e.name?(t.check=!t.check,t.check?(i.checkServicePrice=t.price,window.sessionStorage.setItem("valueAddedServicesName",e.name)):(i.checkServicePrice=0,window.sessionStorage.removeItem("valueAddedServicesName"))):t.check=!1}),this.totalPrice=Number(this.price)+Number(this.checkSelectPrice)+Number(this.checkServicePrice)}}}),l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"Train"}},[i("BaseTopbar",{attrs:{topbar:e.topbar}}),e._v(" "),i("div",{staticClass:"box"},[i("mt-swipe",{staticClass:"swipe-box",attrs:{auto:4e3}},e._l(e.bannerList,function(e,t){return i("mt-swipe-item",{key:t},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"item.url"}]})])}),1),e._v(" "),i("div",{staticClass:"marging"},[i("div",{staticClass:"title"},[e._v(e._s(e.name))]),e._v(" "),i("div",{staticClass:"title-money"},[e._v("￥"+e._s(e.price)+".00")]),e._v(" "),i("div",{staticClass:"list-box"},[i("div",{staticClass:"list-title"},[e._v("\n                    套餐规格\n                ")]),e._v(" "),e.specificationVO.applicableScenario?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("适用场景")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.applicableScenario))])]):e._e(),e._v(" "),e.specificationVO.displayScreen?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("显示屏")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.displayScreen))])]):e._e(),e._v(" "),e.specificationVO.camera?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("摄像头")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.camera))])]):e._e(),e._v(" "),e.specificationVO.hardDisk?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("硬盘")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.hardDisk))])]):e._e(),e._v(" "),e.specificationVO.storage?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("存储")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.storage))])]):e._e(),e._v(" "),e.specificationVO.afterService?i("div",{staticClass:"list"},[i("span",{staticClass:"left"},[e._v("售后服务")]),e._v(" "),i("span",{staticClass:"right"},[e._v(e._s(e.specificationVO.afterService))])]):e._e()]),e._v(" "),i("div",{staticClass:"selection-box"},[i("div",{staticClass:"selection-title"},[e._v("增值套餐选择")]),e._v(" "),i("div",e._l(e.selectionData,function(t,a){return i("div",{key:a,staticClass:"radio-box-item",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.check(t,"selection")}}},[i("div",{staticClass:"icon-check"},[i("span",{staticClass:"radio",class:{on:t.check}}),e._v(" "),i("input",{staticClass:"input-radio",attrs:{type:"radio"},domProps:{checked:t.check}})]),e._v(" "),i("div",{staticClass:"item-content"},[i("span",{staticClass:"shop-name"},[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"shop-price red"},[e._v("    ￥"+e._s(t.price)+".00")])])])}),0)]),e._v(" "),i("div",{staticClass:"selection-box"},[i("div",{staticClass:"selection-title"},[e._v("增值服务选择")]),e._v(" "),e._l(e.serviceData,function(t,a){return i("div",{key:a,staticClass:"radio-box-item",on:{click:function(i){return e.check(t,"service")}}},[i("div",{staticClass:"icon-check"},[i("span",{staticClass:"radio",class:{on:t.check}}),e._v(" "),i("input",{staticClass:"input-radio",attrs:{type:"radio"},domProps:{checked:t.check}})]),e._v(" "),i("div",{staticClass:"item-content"},[i("span",{staticClass:"shop-name"},[e._v(e._s(t.name))]),e._v(" "),i("span",{staticClass:"shop-price red"},[e._v("    ￥"+e._s(t.price)+".00")])])])})],2),e._v(" "),i("div",{staticClass:"img-detail"},[i("div",{staticClass:"img-title"},[e._v("图文详情")]),e._v(" "),e._l(e.details,function(t,a){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.details[a].url,expression:"details[i].url"}],key:a})})],2)])],1),e._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[e._v("总计："),i("span",{staticClass:"red"},[e._v("￥"+e._s(e.totalPrice)+".00")])]),e._v(" "),i("div",{directives:[{name:"touch",rawName:"v-touch"}],staticClass:"btn",on:{click:function(t){return e.GotoPage()}}},[e._v("立即购买")])])],1)},staticRenderFns:[]};var v=i("VU/8")(r,l,!1,function(e){i("kY/A")},"data-v-30ed8a45",null);t.default=v.exports}});