webpackJsonp([68],{MahK:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mvHQ"),i=e.n(s),r=e("NYxO"),l=e("d4/4"),n=e("nRsL"),o=e("9MSF"),d=e("KgB8"),c=e("lTvI"),m=e("Wl27"),v=e("Au9i"),D=e("cKc3"),_={name:"DetailAssemble",data:function(){return{topbar:{isShow:!0,title:"订单详情",callBack:this.goBack},selected:"1",OrderData:"",shopName:"",content:{accounttype:"个人",licencetype:"工商营业执照",businesstype:"新办",shopname:["早晨火锅店"]},name:"陈大宝",tel:"18584084806",address:"四川省成都市高新区天府三街",payments:this.paymentCallBack,agreementType:!1,FlowData:[{name:"核名核址",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"收集资料",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"资料审核-营业执照",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"资料审核-营业执照",type:!1,desc:"审核失败原因：户口簿复印件过期审核失败原因：户口簿复印件过期审核失败原因：户口簿复印件过期",time:"已完成 2018-12-0 17:30"},{name:"资料审核-食品经营许可证",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"现场审核",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"发证",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"}],ShowHtmlType:"",DetailData:{},payType:"",payBack:"",payIsClick:!0,ClickRemoveOrder:!0,ClickCancelOrder:!0,sheetVisible:!1,SheetVisibleText:"",RemoveOrderType:""}},created:function(){},computed:Object(r.b)({}),mounted:function(){this.OrderData=this.$route.params.data||JSON.parse(window.sessionStorage.getItem("OrderAssemble")),sessionStorage.getItem("agreementType")&&(this.agreementType=JSON.parse(sessionStorage.getItem("agreementType")).agreementType),window.sessionStorage.setItem("OrderAssemble",i()(this.OrderData)),this.ShowHtml()},components:{BaseTopbar:l.a,Toast:v.Toast,OrderList:n.a,AddressInfo:o.a,Payment:m.a,Countdown:d.a,PopupSure:c.a},methods:{goBack:function(){return sessionStorage.removeItem("agreementType"),!0},GoChat:function(t){$Hybrid.appToNative("makeChat",i()({id:"",title:"",userId:t.serviceUserId,nickName:t.serviceNickName,salary:"",describe:"",tagList:[],senderAvatar:"",senderName:"",timestamp:0,jobCity:"",isinvite:!1}))},RemoveOrder:function(){var t=this;if(console.log("wwadadad",this.RemoveOrderType),"删除订单"==this.RemoveOrderType){if(0==this.ClickRemoveOrder)return!1;this.ClickRemoveOrder=!1,D.a.delete({url:"order/assemble/order",data:{params:{orderNumber:this.DetailData.orderNumber}}}).then(function(a){var e=t;setTimeout(function(){e.ClickRemoveOrder=!0,e.$router.go(-1)},500),console.log("删除结果",a)})}if("取消订单"==this.RemoveOrderType){if(0==this.ClickCancelOrder)return!1;this.ClickCancelOrder=!1,D.a.get({url:"order/assemble/order",data:{params:{orderNumber:this.DetailData.orderNumber}}}).then(function(a){var e=t;setTimeout(function(){e.ClickCancelOrder=!0,e.$router.go(-1)},500),console.log("取消结果",a)})}},HandleClick:function(t){var a=this;if(this.RemoveOrderType=t,console.log(t),"删除订单"==t&&(this.SheetVisibleText="您确定删除订单吗",this.sheetVisible=!0),"取消订单"==t&&(this.sheetVisible=!0,this.SheetVisibleText="当前订单取消后，不能再次参加该拼团"),"重填资料"==t&&this.$router.push({name:"AccreditationRequirementSub",params:{data:this.DetailData}}),console.log(0x3f28cb71571c7,t),"待付定金"==t||"待付款"==t){if(0==this.agreementType)return Object(v.Toast)({message:"请勾选《打包拼团服务协议》",position:"bottom",duration:2e3}),!1;if(3==this.payType){if(0==this.payIsClick)return!1;this.payIsClick=!1,D.a.post({url:"order/payment/start/payment",data:{params:{payType:this.payType-1,orderNumber:this.DetailData.orderNumber,amount:this.DetailData.payPrice,bankCardNo:this.payBack.cardNo}}}).then(function(t){a.payIsClick=!0,a.$router.push({name:"BackPay",params:{BackPayData:t,Url:"OrderAssemble"}})})}}},licenceType:function(t){return 0==t?"新办":1==t?"变更":2==t?"注销":void 0},decorationMethodType:function(t){return 1==t?"局部改造":2==t?"清水整装":3==t?"拆旧装新":void 0},stateType:function(t){return 1==t?"待付款":2==t?"进行中":3==t?"已完成":4==t?"待付定金":5==t?"已取消":void 0},businessType:function(t){return 0==t?"工商营业执照":1==t?"食品经营许可证":2==t?"工商营业执照+食品经营许可证":void 0},ShowHtml:function(){console.log(9999,this.OrderData),this.ShowHtmlType=this.stateType(this.OrderData.state),this.GetData(this.OrderData.orderNumber)},GetData:function(t){var a=this;D.a.get({url:"order/assemble/orderdetail",data:{params:{orderNumber:t}}}).then(function(t){a.DetailData=t,console.log("订单详情",t)})},agreement:function(){this.agreementType=!this.agreementType},changeshow:function(){sessionStorage.setItem("agreementType",i()({agreementType:this.agreementType})),this.$router.push({name:"Agreement",query:"打包拼团"})},paymentCallBack:function(t,a){this.payType=t,this.payBack=3==t?a:"",console.log("支付方式: ",t,a)}}},p={render:function(){var t=this,a=this,s=a.$createElement,i=a._self._c||s;return i("div",{attrs:{id:"DetailAssemble"}},[i("BaseTopbar",{attrs:{topbar:a.topbar}}),a._v(" "),"待付定金"==a.ShowHtmlType?i("div",{staticClass:"dfdj"},[i("div",{staticClass:"bg-head even"},[i("p",[a._v("您已下单，请及时完成支付")]),a._v(" "),i("div",{staticClass:"dfk-AddressInfo"},[i("AddressInfo",{attrs:{name:a.DetailData.nickName,tel:a.DetailData.phone,address:a.DetailData.address}})],1)]),a._v(" "),i("div",{staticClass:"margin margin-top even-top"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"item-title"},[a._m(0),a._v(" "),i("div",{staticClass:"message red"},[a._v(a._s(a.stateType(a.DetailData.state)))])]),a._v(" "),i("OrderList",{attrs:{datas:[{name:"装修面积",message:a.DetailData.area+"m²"},{name:"装修方式",message:a.decorationMethodType(a.DetailData.decorationMethod)},{name:"装修类型",message:a.DetailData.decorationType},{name:"开工时间",message:a.DetailData.beginTime},{name:"装修风格",message:a.DetailData.decorationStyle}]}})],1),a._v(" "),i("div",{staticClass:"item-footer"},[i("div",{staticClass:"footer-list btn"},[i("div",{staticClass:"btn-content"},[i("span",[a._v("支付金额  ")]),a._v(" "),i("span",{staticClass:"money"},[a._v("￥"+a._s(a.DetailData.payPrice))])])])])]),a._v(" "),i("div",{staticClass:"margin"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"detail-box"},[i("div",{staticClass:"detail-list"},[a._v("订单编号  "+a._s(a.DetailData.orderNumber))]),a._v(" "),i("div",{staticClass:"detail-list"},[a._v("下单时间  "+a._s(a.DetailData.orderTime))])])])]),a._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[i("span",{staticStyle:{color:"#000"}},[a._v("总计")]),a._v("   ￥"+a._s(a.DetailData.total))]),a._v(" "),i("div",{staticClass:"btn-remove",on:{click:function(t){return a.HandleClick("取消订单")}}},[a._v("取消订单")])])]):a._e(),a._v(" "),"待付款"==a.ShowHtmlType?i("div",{staticClass:"dfk"},[i("div",{staticClass:"bg-head"},[i("p",[a._v("您已下单，请及时完成支付")]),a._v(" "),i("div",{staticClass:"dfk-AddressInfo"},[i("AddressInfo",{attrs:{name:a.DetailData.nickName,tel:a.DetailData.phone,address:a.DetailData.address}})],1)]),a._v(" "),i("div",{staticClass:"margin margin-top"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"item-title"},[a._m(1),a._v(" "),i("div",{staticClass:"message red"},[a._v(a._s(a.stateType(a.DetailData.state)))])]),a._v(" "),i("OrderList",{attrs:{datas:[{name:"装修面积",message:a.DetailData.area+"m²"},{name:"装修方式",message:a.decorationMethodType(a.DetailData.decorationMethod)},{name:"装修类型",message:a.DetailData.decorationType},{name:"开工时间",message:a.DetailData.beginTime},{name:"装修风格",message:a.DetailData.decorationStyle}]}})],1),a._v(" "),i("div",{staticClass:"item-footer"},[i("div",{staticClass:"footer-list btn"},[i("div",{staticClass:"btn-content"},[i("span",[a._v("支付金额  ")]),a._v(" "),i("span",{staticClass:"money"},[a._v("￥"+a._s(a.DetailData.payPrice))])])])])]),a._v(" "),i("div",{staticClass:"margin"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"detail-box"},[i("div",{staticClass:"detail-list"},[a._v("订单编号  "+a._s(a.DetailData.orderNumber))]),a._v(" "),i("div",{staticClass:"detail-list"},[a._v("下单时间  "+a._s(a.DetailData.orderTime))])])])]),a._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[i("span",{staticStyle:{color:"#000"}},[a._v("总计")]),a._v("   ￥"+a._s(a.DetailData.total))])])]):a._e(),a._v(" "),"已取消"==a.ShowHtmlType?i("div",{staticClass:"qx"},[i("AddressInfo",{attrs:{name:a.DetailData.nickName,tel:a.DetailData.phone,address:a.DetailData.address}}),a._v(" "),i("div",{staticClass:"margin margin-top-20"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"item-title"},[a._m(2),a._v(" "),i("div",{staticClass:"message gray"},[a._v(a._s(a.stateType(a.DetailData.state)))])]),a._v(" "),i("OrderList",{attrs:{datas:[{name:"装修面积",message:a.DetailData.area+"m²"},{name:"装修方式",message:a.decorationMethodType(a.DetailData.decorationMethod)},{name:"装修类型",message:a.DetailData.decorationType},{name:"开工时间",message:a.DetailData.beginTime},{name:"装修风格",message:a.DetailData.decorationStyle}]}})],1),a._v(" "),i("div",{staticClass:"item-footer"},[i("div",{staticClass:"footer-list btn"},[i("div",{staticClass:"btn-content"},[i("span",[a._v("服务总价  ")]),a._v(" "),i("span",{staticClass:"money"},[a._v("￥"+a._s(a.DetailData.totalServicePrice))])])])])]),a._v(" "),i("div",{staticClass:"margin"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"detail-box"},[i("div",{staticClass:"detail-list"},[a._v("订单编号  "+a._s(a.DetailData.orderNumber))]),a._v(" "),i("div",{staticClass:"detail-list"},[a._v("下单时间  "+a._s(a.DetailData.orderTime))])])])]),a._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[i("span",{staticStyle:{color:"#000"}},[a._v("总计")]),a._v("   ¥"+a._s(a.DetailData.total))]),a._v(" "),i("div",{staticClass:"btn",on:{click:function(t){return a.HandleClick("删除订单")}}},[a._v("删除订单")])])],1):a._e(),a._v(" "),"进行中"==a.ShowHtmlType?i("div",{staticClass:"jxz"},[i("AddressInfo",{attrs:{name:a.DetailData.nickName,tel:a.DetailData.phone,address:a.DetailData.address}}),a._v(" "),i("div",{staticClass:"margin margin-top-20"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"item-title"},[a._m(3),a._v(" "),i("div",{staticClass:"message"},[a._v(a._s(a.stateType(a.DetailData.state)))])]),a._v(" "),i("OrderList",{attrs:{datas:[{name:"装修面积",message:a.DetailData.area+"m²"},{name:"装修方式",message:a.decorationMethodType(a.DetailData.decorationMethod)},{name:"装修类型",message:a.DetailData.decorationType},{name:"开工时间",message:a.DetailData.beginTime},{name:"装修风格",message:a.DetailData.decorationStyle}]}})],1),a._v(" "),i("div",{staticClass:"item-footer"},[i("div",{staticClass:"footer-list btn"},[i("div",{staticClass:"btn-content"},[i("span",[a._v("服务总价  ")]),a._v(" "),i("span",{staticClass:"money"},[a._v("￥"+a._s(a.DetailData.totalServicePrice))])])])])]),a._v(" "),i("div",{staticClass:"margin",staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"detail-box"},[i("div",{staticClass:"detail-list"},[a._v("订单编号  "+a._s(a.DetailData.orderNumber))]),a._v(" "),i("div",{staticClass:"detail-list"},[a._v("下单时间  "+a._s(a.DetailData.orderTime))])])])]),a._v(" "),a.DetailData.serviceHead?i("div",{staticClass:"margin detail-box"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"head"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.DetailData.serviceHead,expression:"DetailData.serviceHead"}],staticClass:"head-img",attrs:{alt:""}}),a._v(" "),i("div",{staticClass:"head-connet"},[i("p",[a._v(a._s(a.DetailData.serviceNickName))]),a._v(" "),i("p",[a._v(a._s(a.DetailData.serviceCompanyName))])]),a._v(" "),a._m(4)])])]):a._e(),a._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[i("span",{staticStyle:{color:"#000"}},[a._v("总计")]),a._v("   ￥"+a._s(a.DetailData.total))])])],1):a._e(),a._v(" "),"已完成"==a.ShowHtmlType?i("div",{staticClass:"wc"},[i("AddressInfo",{attrs:{name:a.DetailData.nickName,tel:a.DetailData.phone,address:a.DetailData.address}}),a._v(" "),i("div",{staticClass:"margin margin-top-20"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"item-title"},[a._m(5),a._v(" "),i("div",{staticClass:"message gray"},[a._v(a._s(a.stateType(a.DetailData.state)))])]),a._v(" "),i("OrderList",{attrs:{datas:[{name:"装修面积",message:a.DetailData.area+"m²"},{name:"装修方式",message:a.decorationMethodType(a.DetailData.decorationMethod)},{name:"装修类型",message:a.DetailData.decorationType},{name:"开工时间",message:a.DetailData.beginTime},{name:"装修风格",message:a.DetailData.decorationStyle}]}})],1),a._v(" "),i("div",{staticClass:"item-footer"},[i("div",{staticClass:"footer-list btn"},[i("div",{staticClass:"btn-content"},[i("span",[a._v("服务总价  ")]),a._v(" "),i("span",{staticClass:"money"},[a._v("￥"+a._s(a.DetailData.totalServicePrice))])])])])]),a._v(" "),i("div",{staticClass:"margin"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"detail-box"},[i("div",{staticClass:"detail-list"},[a._v("订单编号  "+a._s(a.DetailData.orderNumber))]),a._v(" "),i("div",{staticClass:"detail-list"},[a._v("下单时间  "+a._s(a.DetailData.orderTime))])])])]),a._v(" "),a.DetailData.serviceHead?i("div",{staticClass:"margin detail-box"},[i("div",{staticClass:"item-box"},[i("div",{staticClass:"head"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.DetailData.serviceHead,expression:"DetailData.serviceHead"}],staticClass:"head-img",attrs:{alt:""}}),a._v(" "),i("div",{staticClass:"head-connet"},[i("p",[a._v(a._s(a.DetailData.serviceNickName))]),a._v(" "),i("p",[a._v(a._s(a.DetailData.serviceCompanyName))])]),a._v(" "),i("div",{staticClass:"icon-img",on:{click:function(t){return a.GoChat(a.DetailData)}}},[i("img",{attrs:{src:e("LfT8"),alt:""}})])])])]):a._e(),a._v(" "),i("div",{staticClass:"footer-btn"},[i("div",{staticClass:"words"},[i("span",{staticStyle:{color:"#000"}},[a._v("总计")]),a._v("   ￥"+a._s(a.DetailData.total))]),a._v(" "),i("div",{staticClass:"btn",on:{click:function(t){return a.HandleClick("删除订单")}}},[a._v("删除订单")])])],1):a._e(),a._v(" "),i("PopupSure",{attrs:{Data:{sheetVisible:a.sheetVisible,message:a.SheetVisibleText,sureText:"确定",surePop:this.RemoveOrder,removePop:function(){t.sheetVisible=!1}}}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"icon"}),this._v(" 需求单")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"icon"}),this._v(" 需求单")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"icon"}),this._v(" 需求单")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"icon"}),this._v(" 需求单")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"icon-img"},[a("img",{attrs:{src:e("LfT8"),alt:""}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"icon"}),this._v(" 需求单")])}]};var C=e("VU/8")(_,p,!1,function(t){e("xRBd")},"data-v-6d178e33",null);a.default=C.exports},xRBd:function(t,a){}});