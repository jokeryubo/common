webpackJsonp([37],{"P+cp":function(t,e){t.exports="data:image/png;base64,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"},ec4W:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bOdI"),o=s.n(a),i=(s("MY4N"),s("0zAV")),n=s("NYxO"),r=s("d4/4"),l=s("B1Az"),c=s("cKc3"),h=s("Au9i"),d=s("cU4i"),p={mixins:[{methods:{handleOverlay:function(t){this.show=t},handleConfirmData:function(t){console.log("&&&2",t),this.show=!1}}}],components:o()({BaseTopbar:r.a,Cell:l.a,MessageBox:h.MessageBox,Toast:h.Toast,AddressPopup:d.a},i.a.name,i.a),data:function(){return{topbar:{isShow:!0,title:"创建店铺",callBack:this.goBack,message:{title:"提示信息",message:"已填的信息将丢失，确认返回？"},sureBack:this.sureBack},params:{saveEditAddressInfo:!1,changeLocalMyinfo:!1,hasAddressInfo:!1,Address:{}},hasLogo:!1,logoUrl:"",popupVisible:!1,placetag:"请选择地区",provinceId:"",cityId:"",districtId:"",shopName:"",staffSize:"",address:"",imgLogoStr:"",shopUrl:"",shopUrlType:!0,shopId:"",show:!1,hasAddr:!1,defaultAddrValue:""}},computed:Object(n.b)({}),created:function(){var t=sessionStorage.getItem("currentShopData");if(t){var e=t=JSON.parse(t),s=e.id,a=e.doorPhotoUrl,o=e.logo,i=e.shopName,n=e.staffSize,r=e.provinceId,l=e.cityId,c=e.districtId,h=e.provinceName,d=e.cityName,p=e.districtName;this.topbar.title="编辑店铺",this.shopId=s,this.shopUrl=a,this.shopUrlType=!1,this.logoUrl=o,this.shopName=i,this.staffSize=n,this.provinceId=r,this.cityId=l,this.districtId=c,this.params.Address={provinceId:r,cityId:l,districtId:c},this.placetag=h+"-"+d+"-"+p}},mounted:function(){var t=this;$Hybrid.$eventHub.$off("logo").$on("logo",function(e){t.logoUrl=e.url}),$Hybrid.$eventHub.$off("nativeBack").$on("nativeBack",function(e){var s=$Hybrid.routerList;""!=t.shopUrl||""!=t.logoUrl||""!=t.shopName||""!=t.staffSize||"请选择地区"!=t.placetag?h.MessageBox.confirm("",{title:"提示",message:"已填的信息将丢失，确认返回？",showCancelButton:!0,confirmButtonClass:"msg-sure",cancelButtonClass:"msg-canel"}).then(function(e){"confirm"===e&&(1===s.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),t.$router.go(-1)))}):1===s.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),t.$router.go(-1))})},watch:{},methods:{handleAddrCell:function(){this.hasAddr=!0},handleOverlay:function(){this.hasAddr=!1},handleAddrConfirm:function(t){this.placetag=t[0].name+"-"+t[1].name+"-"+t[2].name,this.provinceId=t[0].code,this.cityId=t[1].code,this.districtId=t[2].code,console.log(t),this.hasAddr=!1},inputBottom:function(t,e){if("iOS"==$Hybrid.$type)return!1;document.getElementById("bottom").style.marginBottom=t+"px",document.documentElement.scrollTop=t,document.body.scrollTop=t},goBack:function(){var t=!0;return""==this.shopUrl&&""==this.logoUrl&&""==this.shopName&&""==this.staffSize&&"请选择地区"==this.placetag||(t=!1),t},sureBack:function(){},checkstaffSize:function(){this.staffSize=this.staffSize.replace(/\D/g,""),this.staffSize<=0?this.staffSize="":this.staffSize>5e3&&(this.staffSize=5e3)},checkshopName:function(){this.shopName=this.shopName.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"")},test:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,this.handleAddrCell()},save:function(){for(var t=this,e=[{name:"上传门头照",data:this.shopUrl},{name:"上传店铺LOGO",data:this.logoUrl},{name:"填写店铺名",data:this.shopName},{name:"输入人员规模",data:this.staffSize}],s=0;s<e.length;s++)if(""===e[s].data||void 0===e[s].data)return Object(h.Toast)({message:"请"+e[s].name,position:"bottom"}),!1;if("请选择地区"==this.placetag)return Object(h.Toast)({message:"请选择地区",position:"bottom"}),!1;var a="";a=this.shopId?"app/shop/info/update/shopName":"app/shop/info/add",c.a.post({url:a,data:{params:{logo:this.logoUrl,doorPhotoUrl:this.shopUrl,shopName:this.shopName,staffSize:this.staffSize,provinceId:this.provinceId,cityId:this.cityId,districtId:this.districtId,shopId:this.shopId}}}).then(function(e){0==e.code&&($Hybrid.routerList.pop(),t.$router.back())})},handleImg:function(){$Hybrid.appToNative("updateImg","logo")},handleshopImg:function(){var t=this;$Hybrid.appToNative("updateImg","shopImg"),$Hybrid.$eventHub.$off("shopImg").$on("shopImg",function(e){t.shopUrl=e.url,t.shopUrlType=!1})},closeTouch:function(){document.getElementsByTagName("body")[0].addEventListener("touchmove",this.handler,{passive:!1})},openTouch:function(){document.getElementsByTagName("body")[0].removeEventListener("touchmove",this.handler,{passive:!1})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop-add",attrs:{id:"bottom"}},[a("BaseTopbar",{attrs:{topbar:t.topbar}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!t.shopUrlType,expression:"shopUrlType?true:false"}],staticClass:"title-box"},[a("span",[t._v("上传门头照")]),t._v(" "),a("img",{attrs:{src:s("P+cp"),alt:""},on:{click:t.handleshopImg}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.shopUrlType,expression:"shopUrlType?false:true"}],staticClass:"img-box"},[a("span",{on:{click:t.handleshopImg}},[t._v("重新上传门头照")]),t._v(" "),a("img",{attrs:{src:t.shopUrl,alt:""}})]),t._v(" "),a("Cell",{staticClass:"item-1",attrs:{title:"店铺LOGO","is-link":""}},[t.logoUrl.length<1?a("button",{staticClass:"btn",on:{click:function(e){return t.handleImg()}}},[t._v("请选择LOGO")]):a("img",{staticClass:"logo",attrs:{src:t.logoUrl},on:{click:function(e){return t.handleImg()}}})]),t._v(" "),a("Cell",{staticClass:"item ",attrs:{title:"店铺名称",isShow:"false","is-link":""}},[a("van-field",{staticClass:"shop-name input-width lineHeight-normal",attrs:{"input-align":"right",placeholder:"请填写真实名称",clearable:"",maxlength:"20"},on:{input:function(e){return t.checkshopName()}},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1),t._v(" "),a("Cell",{staticClass:"item",attrs:{title:"人员规模",isShow:"false","is-link":""}},[a("van-field",{staticClass:"shop-name lineHeight-normal",attrs:{"input-align":"right",placeholder:"必填",clearable:""},on:{input:function(e){return t.checkstaffSize()},focus:function(e){return t.inputBottom(110,"Roll")},blur:function(e){return t.inputBottom(0,"blur")}},model:{value:t.staffSize,callback:function(e){t.staffSize=e},expression:"staffSize"}})],1),t._v(" "),a("Cell",{staticClass:"item",attrs:{title:"地区",emit:t.test,"is-link":""}},[a("span",{staticClass:"pacle"},[t._v(t._s(t.placetag))])]),t._v(" "),a("button",{class:t.logoUrl||t.shopUrl||t.shopName||t.staffSize||"请选择地区"!=t.placetag?"saveBtn":"saveBtn no",on:{click:function(e){return t.save()}}},[t._v("\n        确定\n    ")]),t._v(" "),a("address-popup",{attrs:{show:t.hasAddr,defaultValue:t.defaultAddrValue},on:{overlayState:t.handleOverlay,confirmData:t.handleAddrConfirm}})],1)},staticRenderFns:[]};var m=s("VU/8")(p,u,!1,function(t){s("fsck")},"data-v-8a36aea4",null);e.default=m.exports},fsck:function(t,e){}});