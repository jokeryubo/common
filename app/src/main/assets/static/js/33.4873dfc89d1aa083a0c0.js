webpackJsonp([33],{"/0ze":function(t,e){},"P+cp":function(t,e){t.exports="data:image/png;base64,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"},eUNy:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bOdI"),o=s.n(a),i=(s("MY4N"),s("0zAV")),r=s("NYxO"),n=s("d4/4"),l=s("B1Az"),d=s("cKc3"),c=s("Au9i"),h=s("cU4i"),p={data:function(){return{shopId:"",topbar:{isShow:!0,title:"创建网店",callBack:this.goBack,message:{title:"提示信息",message:"已填的信息将丢失，确认返回？"},sureBack:this.sureBack},params:{saveEditAddressInfo:!1,changeLocalMyinfo:!1,hasAddressInfo:!1,Address:{}},hasLogo:!1,logoUrl:"",popupVisible:!1,placetag:"请选择公司地址",provinceId:"",cityId:"",districtId:"",shopName:"",staffSize:"",address:"",detialAddress:"",imgLogoStr:"",shopUrl:"",shopUrlType:!0,timer:null,hasAddr:!1,defaultAddrValue:""}},components:o()({BaseTopbar:n.a,Cell:l.a,MessageBox:c.MessageBox,Toast:c.Toast,AddressPopup:h.a},i.a.name,i.a),computed:Object(r.b)({}),created:function(){var t=sessionStorage.getItem("currentServiceData");if(t){this.topbar.title="编辑网店";var e=t=JSON.parse(t),s=e.doorPhotoUrl,a=e.logo,o=e.shopName,i=e.staffSize,r=e.detailAddress,n=e.provinceId,l=e.cityId,d=e.districtId,c=e.provinceName,h=e.cityName,p=e.districtName,u=e.id;this.shopUrl=s,this.shopUrlType=!1,this.logoUrl=a,this.shopName=o,this.staffSize=i,this.placetag=c+"-"+h+"-"+p,this.provinceId=n,this.cityId=l,this.districtId=d,this.params.Address={provinceId:n,cityId:l,districtId:d},this.detialAddress=r,this.shopId=u}},mounted:function(){var t=this;$Hybrid.$eventHub.$off("nativeBack").$on("nativeBack",function(e){var s=$Hybrid.routerList;""!=t.shopUrl||""!=t.logoUrl||""!=t.shopName||""!=t.staffSize||""!=t.detialAddress||"请选择公司地址"!=t.placetag?c.MessageBox.confirm("",{title:"提示",message:"已填的信息将丢失，确认返回？",showCancelButton:!0,confirmButtonClass:"msg-sure",cancelButtonClass:"msg-canel"}).then(function(e){"confirm"===e&&(1===s.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),t.$router.go(-1)))}):1===s.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),t.$router.go(-1))})},watch:{},methods:{handleAddrCell:function(){this.hasAddr=!0},handleOverlay:function(){this.hasAddr=!1},handleAddrConfirm:function(t){this.placetag=t[0].name+"-"+t[1].name+"-"+t[2].name,this.provinceId=t[0].code,this.cityId=t[1].code,this.districtId=t[2].code,this.hasAddr=!1},inputBottom:function(t,e){if("iOS"==$Hybrid.$type)return!1;document.getElementById("bottom").style.marginBottom=t+"px",document.documentElement.scrollTop=t,document.body.scrollTop=t},goBack:function(){var t=!0;return""==this.shopUrl&&""==this.logoUrl&&""==this.shopName&&""==this.staffSize&&""==this.detialAddress&&"请选择公司地址"==this.placetag||(t=!1),t},sureBack:function(){},checkstaffSize:function(){this.staffSize=this.staffSize.replace(/\D/g,""),this.staffSize<=0?this.staffSize="":this.staffSize>5e3&&(this.staffSize=5e3)},checkshopName:function(){this.shopName=this.shopName.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"")},getData:function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,this.handleAddrCell()},save:function(){for(var t=this,e=[{name:"上传门头照",data:this.shopUrl},{name:"上传公司LOGO",data:this.logoUrl},{name:"填写公司名称",data:this.shopName},{name:"输入人员规模",data:this.staffSize},{name:"输入详细地址",data:this.detialAddress}],s=0;s<e.length;s++)if(""===e[s].data||void 0===e[s].data)return Object(c.Toast)({message:"请"+e[s].name,position:"bottom"}),!1;if("请选择公司地址"==this.placetag)return Object(c.Toast)({message:"请选择公司地址",position:"bottom"}),!1;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.timer=null;var e="";e=t.shopId?"app/provider/info/update/shopName":"app/provider/info/add",d.a.post({url:e,data:{params:{shopId:t.shopId,logo:t.logoUrl,doorPhotoUrl:t.shopUrl,shopName:t.shopName,staffSize:t.staffSize,provinceId:t.provinceId,cityId:t.cityId,districtId:t.districtId,detailAddress:t.detialAddress}}}).then(function(e){0==e.code&&($Hybrid.routerList.pop(),t.$router.go(-1))})},500)},handleImg:function(){var t=this;$Hybrid.appToNative("updateImg","logo"),$Hybrid.$eventHub.$off("logo").$on("logo",function(e){t.logoUrl=e.url})},handleshopImg:function(){var t=this;$Hybrid.appToNative("updateImg","shopImg"),$Hybrid.$eventHub.$off("shopImg").$on("shopImg",function(e){t.shopUrl=e.url,t.shopUrlType=!1})},closeTouch:function(){document.getElementsByTagName("body")[0].addEventListener("touchmove",this.handler,{passive:!1})},openTouch:function(){document.getElementsByTagName("body")[0].removeEventListener("touchmove",this.handler,{passive:!1})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"serviceprovideradd",attrs:{id:"bottom"}},[a("BaseTopbar",{attrs:{topbar:t.topbar}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!!t.shopUrlType,expression:"shopUrlType?true:false"}],staticClass:"title-box"},[a("span",[t._v("上传门头照")]),t._v(" "),a("img",{attrs:{src:s("P+cp"),alt:""},on:{click:t.handleshopImg}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.shopUrlType,expression:"shopUrlType?false:true"}],staticClass:"img-box"},[a("span",{on:{click:t.handleshopImg}},[t._v("重新上传门头照")]),t._v(" "),a("img",{attrs:{src:t.shopUrl,alt:""}})]),t._v(" "),a("Cell",{staticClass:"item-1",attrs:{title:"公司LOGO","is-link":""}},[t.logoUrl.length<1?a("button",{staticClass:"btn",on:{click:function(e){return t.handleImg()}}},[t._v("请选择LOGO")]):a("img",{staticClass:"logo",attrs:{src:t.logoUrl},on:{click:function(e){return t.handleImg()}}})]),t._v(" "),a("Cell",{staticClass:"item",attrs:{title:"公司名称",isShow:"false","is-link":""}},[a("van-field",{ref:"handeleblur1",staticClass:"shop-name input-width lineHeight-normal",attrs:{"input-align":"right",placeholder:"请填写真实名称",clearable:"",maxlength:"20"},on:{input:function(e){return t.checkshopName()}},model:{value:t.shopName,callback:function(e){t.shopName=e},expression:"shopName"}})],1),t._v(" "),a("Cell",{staticClass:"item",attrs:{title:"人员规模",isShow:"false","is-link":""}},[a("van-field",{ref:"handeleblur2",staticClass:"shop-name lineHeight-normal",attrs:{"input-align":"right",placeholder:"必填",clearable:""},on:{input:function(e){return t.checkstaffSize()},focus:function(e){return t.inputBottom(120)},blur:function(e){return t.inputBottom(0,"blur")}},model:{value:t.staffSize,callback:function(e){t.staffSize=e},expression:"staffSize"}})],1),t._v(" "),a("Cell",{staticClass:"item",attrs:{title:"公司地址",emit:t.getData,"is-link":""}},[a("span",{staticClass:"pacle"},[t._v(t._s(t.placetag))])]),t._v(" "),a("div",{staticClass:"describeBox"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detialAddress,expression:"detialAddress"}],ref:"handeleblur3",staticClass:"describe lineHeight-normal",attrs:{placeholder:"请输入详细地址（精确到楼层门牌号）",maxlength:"50"},domProps:{value:t.detialAddress},on:{focus:function(e){return t.inputBottom(110)},blur:function(e){return t.inputBottom(0,"blur")},input:function(e){e.target.composing||(t.detialAddress=e.target.value)}}})]),t._v(" "),a("button",{class:t.logoUrl||t.shopUrl||t.shopName||t.staffSize||"请选择公司地址"!=t.placetag?"saveBtn":"saveBtn no",on:{click:function(e){return t.save()}}},[t._v("确定")]),t._v(" "),a("address-popup",{attrs:{show:t.hasAddr,defaultValue:t.defaultAddrValue},on:{overlayState:t.handleOverlay,confirmData:t.handleAddrConfirm}})],1)},staticRenderFns:[]};var m=s("VU/8")(p,u,!1,function(t){s("/0ze")},"data-v-e3e246f8",null);e.default=m.exports}});