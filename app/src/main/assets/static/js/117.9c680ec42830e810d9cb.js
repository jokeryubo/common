webpackJsonp([117],{GA0j:function(t,e){},hQoy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),r=(a("NYxO"),a("d4/4")),n=a("nRsL"),o=a("9MSF"),l=a("lTvI"),d=a("KgB8"),c=a("Wl27"),m=a("Au9i"),p=a("cKc3"),v={name:"DetailTaxation",data:function(){return{topbar:{isShow:!0,title:"订单详情"},selected:"1",sheetVisible:!1,SheetVisibleText:"",RemoveOrderType:"",OrderData:"",shopName:"",content:{accounttype:"个人",licencetype:"工商营业执照",businesstype:"新办",shopname:["早晨火锅店"]},name:"陈大宝",tel:"18584084806",address:"四川省成都市高新区天府三街",agreementType:!1,FlowData:[{name:"核名核址",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"收集资料",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"资料审核-营业执照",type:!0,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"资料审核-营业执照",type:!1,desc:"审核失败原因：户口簿复印件过期审核失败原因：户口簿复印件过期审核失败原因：户口簿复印件过期",time:"已完成 2018-12-0 17:30"},{name:"资料审核-食品经营许可证",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"现场审核",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"},{name:"发证",type:!1,desc:"注册名称：早餐火锅店",time:"已完成 2018-12-0 17:30"}],ShowHtmlType:"",payType:"",payBack:"",DetailData:{codeName:{statusName:""},auditName:{auditNameFailureReason:""},licenseAudit:{licenseAuditFailureReason:""}},payIsClick:!0,ClickRemoveOrder:!0,ClickCancelOrder:!0}},created:function(){},mounted:function(){this.OrderData=this.$route.params.data||JSON.parse(sessionStorage.getItem("OrderTaxation")),sessionStorage.setItem("OrderTaxation",i()(this.OrderData)),this.ShowHtml()},components:{BaseTopbar:r.a,Toast:m.Toast,AddressInfo:o.a,Payment:c.a,OrderList:n.a,Countdown:d.a,PopupSure:l.a},methods:{CountDownCallBack:function(){this.$router.go(-1)},HandleClick:function(t){var e=this;if(console.log(this.agreementType),"2"==t&&3==this.payType){if(0==this.payIsClick)return!1;this.payIsClick=!1,p.a.post({url:"order/payment/start/payment",data:{params:{payType:this.payType-1,orderNumber:this.DetailData.orderNumber,amount:this.DetailData.payPrice,bankCardNo:this.payBack.cardNo}}}).then(function(t){e.payIsClick=!0,e.$router.push({name:"BackPay",params:{BackPayData:t,Url:"OrderTaxation"}})})}"3"==t&&(this.SheetVisibleText="您确定删除订单吗",this.RemoveOrderType=t,this.sheetVisible=!0),"1"==t&&(this.SheetVisibleText="您确定取消订单吗",this.RemoveOrderType=t,this.sheetVisible=!0)},RemoveOrder:function(){var t=this;if("3"==this.RemoveOrderType){if(0==this.ClickRemoveOrder)return!1;this.ClickRemoveOrder=!1,p.a.delete({url:"order/taxagent/order",data:{params:{orderNumber:this.OrderData.orderNumber}}}).then(function(e){t.ClickRemoveOrder=!0,$Hybrid.routerList.pop(),t.$router.go(-1)})}if("1"==this.RemoveOrderType){if(0==this.ClickCancelOrder)return!1;this.ClickCancelOrder=!1,p.a.get({url:"order/taxagent/cancelorder",data:{params:{orderNumber:this.OrderData.orderNumber}}}).then(function(e){Object(m.Toast)({message:"取消成功",position:"bottom",duration:2e3}),console.log("取消结果",e),t.ClickCancelOrder=!0,$Hybrid.routerList.pop(),t.$router.go(-1)})}},licenceType:function(t){return 0==t?"新办":1==t?"变更":2==t?"注销":void 0},demandType:function(t){return 0==t?"待审核":1==t?"审核失败":2==t?"已重填":3==t?"交易终止":4==t?"进行中":5==t?"已完成":void 0},businessType:function(t){return 0==t?"工商营业执照":1==t?"食品经营许可证":2==t?"工商营业执照+食品经营许可证":void 0},typeText:function(){switch(this.DetailData.state){case 1:return"待付款";case 3:return"进行中";case 4:return"已完成";case 6:return"已取消"}},ShowHtml:function(){console.log(9999,this.OrderData),this.ShowHtmlType=this.OrderData.state,this.GetData(this.OrderData.orderNumber)},GetData:function(t){var e=this;p.a.get({url:"order/taxagent/orderdetail",data:{params:{orderNumber:t}}}).then(function(t){e.DetailData=t,console.log("订单详情",e.DetailData)})},agreement:function(){this.agreementType=!this.agreementType},paymentCallBack:function(t,e){this.payType=t,this.payBack=3==t?e:"",console.log("支付方式: ",t,e)}}},u={render:function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"DetailTaxation"}},[s("BaseTopbar",{attrs:{topbar:e.topbar}}),e._v(" "),"1"==e.ShowHtmlType?s("div",{staticClass:"dfk"},[s("div",{staticClass:"bg-head"},[s("p",[e._v("您已下单，请及时完成支付")]),e._v(" "),s("div",{staticClass:"dfk-AddressInfo"},[s("AddressInfo",{attrs:{name:e.DetailData.operatorName,tel:e.DetailData.phone,address:e.DetailData.address}})],1)]),e._v(" "),s("div",{staticClass:"margin margin-top"},[s("div",{staticClass:"item-box"},[s("div",{staticClass:"item-title"},[e._m(0),e._v(" "),s("div",{staticClass:"message"},[e._v(e._s(e.typeText()))])]),e._v(" "),s("OrderList",{attrs:{datas:[{name:"服务类型",message:"税务代办"},{name:"套餐选择",message:e.DetailData.mealName}]}})],1),e._v(" "),s("div",{staticClass:"item-footer"},[s("div",{staticClass:"footer-list btn"},[s("div",{staticClass:"btn-content"},[s("span",[e._v("支付金额  ")]),e._v(" "),s("span",{staticClass:"money"},[e._v("￥"+e._s(e.DetailData.payPrice))])])])])]),e._v(" "),s("div",{staticClass:"margin"},[s("div",{staticClass:"item-box"},[s("div",{staticClass:"detail-box"},[s("div",{staticClass:"detail-list"},[e._v("订单编号  "+e._s(e.DetailData.orderNumber))]),e._v(" "),s("div",{staticClass:"detail-list"},[e._v("下单时间  "+e._s(e.DetailData.placeTime))])])])]),e._v(" "),s("div",{staticClass:"footer-btn"},[s("div",{staticClass:"words"},[s("span",{staticStyle:{color:"#000"}},[e._v("总计")]),e._v("  ￥"+e._s(e.DetailData.payPrice))]),e._v(" "),s("div",{staticClass:"btn-remove",on:{click:function(t){return e.HandleClick("1")}}},[e._v("取消订单")])])]):e._e(),e._v(" "),"3"==e.ShowHtmlType||"4"==e.ShowHtmlType||"6"==e.ShowHtmlType?s("div",{staticClass:"qx"},[s("AddressInfo",{attrs:{name:e.DetailData.operatorName,tel:e.DetailData.phone,address:e.DetailData.address}}),e._v(" "),s("div",{staticClass:"margin margin-top-20"},[s("div",{staticClass:"item-box"},[s("div",{staticClass:"item-title"},[e._m(1),e._v(" "),s("div",{staticClass:"message",class:"4"==e.ShowHtmlType||"6"==e.ShowHtmlType?"gray":""},[e._v(e._s(e.typeText()))])]),e._v(" "),s("OrderList",{attrs:{datas:[{name:"服务类型",message:"税务代办"},{name:"套餐选择",message:e.DetailData.mealName}]}})],1),e._v(" "),s("div",{staticClass:"item-footer"},[s("div",{staticClass:"footer-list btn"},[s("div",{staticClass:"btn-content"},[s("span",[e._v("服务总价  ")]),e._v(" "),s("span",{staticClass:"money"},[e._v("￥"+e._s(e.DetailData.payPrice))])])])])]),e._v(" "),s("div",{staticClass:"margin"},[s("div",{staticClass:"item-box"},[s("div",{staticClass:"detail-box"},[s("div",{staticClass:"detail-list"},[e._v("订单编号  "+e._s(e.DetailData.orderNumber))]),e._v(" "),s("div",{staticClass:"detail-list"},[e._v("下单时间  "+e._s(e.DetailData.placeTime))])])])]),e._v(" "),"3"!=e.ShowHtmlType?s("div",{staticClass:"qx-btn"},["6"==e.ShowHtmlType||"4"==e.ShowHtmlType?s("div",{staticClass:"btn",on:{click:function(t){return e.HandleClick("3")}}},[e._v("删除订单")]):e._e()]):e._e()],1):e._e(),e._v(" "),s("PopupSure",{attrs:{Data:{sheetVisible:e.sheetVisible,message:e.SheetVisibleText,sureText:"确定",surePop:this.RemoveOrder,removePop:function(){t.sheetVisible=!1}}}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"icon"}),this._v(" 需求单")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"icon"}),this._v(" 需求单")])}]};var h=a("VU/8")(v,u,!1,function(t){a("GA0j")},"data-v-08bb7070",null);e.default=h.exports}});