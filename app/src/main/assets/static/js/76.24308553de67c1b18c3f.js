webpackJsonp([76],{"1Ow3":function(t,e){},"YC/D":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Gu7T"),s=a.n(i),n=a("P3qA"),o=a("VaMN"),r=a("d4/4"),c=a("KgB8"),d=a("nRsL"),l=a("cKc3"),v={data:function(){return{topbar:{isShow:!0,title:"拼团订单",callBack:this.goBack},avtive:"全部",pageNum:1,loadMoreMessage:"已经全部加载完毕",OrderData:[],isLoading:!1,loading:!1,finished:!1}},created:function(){},mounted:function(){$Hybrid.$eventHub.$off("nativeBack").$on("nativeBack",function(t){return $Hybrid.appToNative("close"),!1}),this.GetData(0,"",this.pageNum)},components:{BaseTopbar:r.a,OrderList:d.a,Countdown:c.a,OrderTab:n.a,InfiniteScroll:o.a},methods:{goBack:function(){return $Hybrid.appToNative("close"),"bottomMsg"},HandleClick:function(t,e){console.log(t),"1"==t&&this.GotoDetail(e),"4"==t&&this.GotoDetail(e)},GotoDetail:function(t){sessionStorage.removeItem("OrderAssemble"),this.$router.push({name:"DetailAssemble",params:{data:t}})},onRefresh:function(){this.pageNum=1,this.finished=!0,this.loadMoreMessage="","全部"==this.avtive&&this.Switchingtype("payStatus",0,"全部"),"待付款"==this.avtive&&this.Switchingtype("payStatus",1,"待付款"),"进行中"==this.avtive&&this.Switchingtype("payStatus",2,"进行中"),"已完成"==this.avtive&&this.Switchingtype("payStatus",3,"已完成")},onLoadMore:function(){this.loading=!0,this.GetData(0,"",this.pageNum)},Switchingtype:function(t,e,a){this.avtive=a,this.loadMoreMessage="",this.pageNum=1,"payStatus"==t&&this.GetData(e,"",this.pageNum,"refresh")},stateType:function(t){return 1==t?"待付款":2==t?"进行中":3==t?"已完成":4==t?"待付定金":5==t?"已取消":void 0},decorationMethodType:function(t){return 1==t?"局部改造":2==t?"清水整装":3==t?"拆旧装新":void 0},itemClass:function(t){if("5"==t.state||"3"==t.state)return"gray"},Orderstate:function(t){return 1==t.state?"立即支付":2==t.state?"客服":3==t.state?"客服":4==t.state?"立即支付":void 0},GetData:function(t,e,a,i){var n=this;l.a.get({url:"order/assemble/orders",data:{params:{type:t,pageSize:20,pageNum:a}}}).then(function(t){n.loading=!1;var e=t.totalNum,a=t.list;n.OrderData="refresh"!==i?[].concat(s()(n.OrderData),s()(a)):[].concat(s()(a)),console.log("OrderData-----\x3e",t,n.OrderData),n.OrderData.length>=e?n.finished=!0:(n.pageNum+=1,n.finished=!1),e>10&&e>n.OrderData.length&&(n.loadMoreMessage="下拉加载更多"),n.OrderData.length>=e&&(n.loadMoreMessage="已经全部加载完毕"),e<1&&(n.loadMoreMessage="暂无订单")})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"OrderAssemble"}},[a("BaseTopbar",{attrs:{topbar:t.topbar}}),t._v(" "),a("order-tab",[a("div",{class:"全部"==t.avtive?"tab_active":"tab",on:{click:function(e){return t.Switchingtype("payStatus",0,"全部")}}},[t._v("全部")]),t._v(" "),a("div",{class:"待付款"==t.avtive?"tab_active":"tab",on:{click:function(e){return t.Switchingtype("payStatus",1,"待付款")}}},[t._v("待付款")]),t._v(" "),a("div",{class:"进行中"==t.avtive?"tab_active":"tab",on:{click:function(e){return t.Switchingtype("payStatus",2,"进行中")}}},[t._v("进行中")]),t._v(" "),a("div",{class:"已完成"==t.avtive?"tab_active":"tab",on:{click:function(e){return t.Switchingtype("payStatus",3,"已完成")}}},[t._v("已完成")])]),t._v(" "),a("div",{staticClass:"container"},[a("infinite-scroll",{attrs:{isDelayed:!0,loading:t.loading,finished:t.finished,data:t.OrderData,text:t.loadMoreMessage},on:{refresh:t.onRefresh,loadMore:t.onLoadMore}},t._l(t.OrderData,function(e,i){return a("div",{key:i,staticClass:"margin-top"},[a("div",{staticClass:"margin"},[a("div",{staticClass:"item-box",on:{click:function(a){return t.GotoDetail(e)}}},[a("div",{staticClass:"item-title"},[a("div",[t._v("下单时间")]),t._v(" "),a("div",{staticClass:"title-list"},[t._v(t._s(e.orderTimeForCountDown))]),t._v(" "),a("div",{staticClass:"message ",class:t.itemClass(e)},[t._v(t._s(t.stateType(e.state)))])]),t._v(" "),a("OrderList",{attrs:{datas:[{name:"装修面积",message:e.area+"m²"},{name:"装修方式",message:t.decorationMethodType(e.decorationMethod)},{name:"装修类型",message:e.decorationType},{name:"开工时间",message:e.beginTime},{name:"装修风格",message:e.decorationStyle}]}})],1)]),t._v(" "),a("div",{staticClass:"item-footer"},[a("div",{staticClass:"footer-list"},[t._v(t._s(e.orderType)+"    ￥"+t._s(e.earnestMoney))]),t._v(" "),a("div",{staticClass:"footer-list btn"})])])}),0)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(v,u,!1,function(t){a("1Ow3")},"data-v-5613afb6",null);e.default=h.exports}});