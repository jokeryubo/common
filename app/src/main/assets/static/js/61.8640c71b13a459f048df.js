webpackJsonp([61],{"6mYJ":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("NYxO"),n=a("d4/4"),i=a("B1Az"),o=a("Au9i"),r=(a("cKc3"),a("cU4i")),d={data:function(){return{topbar:{isShow:!0,title:"我的信息"},params:{saveEditAddressInfo:!1,changeLocalMyinfo:!0,hasAddressInfo:!0,Address:{}},cellData:{title:"头像",url:"@/assets/myfriend/friend.png"},hasAddr:!1,defaultAddrValue:""}},computed:Object(e.b)({myInfo:function(t,s){return s.myInfo}}),components:{BaseTopbar:n.a,Cell:i.a,AddressPopup:r.a},created:function(){console.log("myinfo",this.myInfo),this.defaultAddrValue=this.myInfo.districtId?String(this.myInfo.districtId):""},mounted:function(){var t=this;$Hybrid.$eventHub.$off("useAvatar").$on("useAvatar",function(s){t.$store.dispatch("updateUserinfo",{useAvatar:s.url})}),$Hybrid.$eventHub.$off("backgroundUrl").$on("backgroundUrl",function(s){t.$store.dispatch("updateUserinfo",{backgroundUrl:s.url})});var s=this.myInfo;s.provinceId,s.cityId,s.districtId},methods:{handleAddrCell:function(){this.hasAddr=!0},handleOverlay:function(){this.hasAddr=!1},handleAddrConfirm:function(t){console.log(t),this.myInfo.districtId!==t[2].code&&this.$store.dispatch("updateUserinfo",{provinceId:t[0].code,province:t[0].name,cityId:t[1].code,city:t[1].name,districtId:t[2].code,district:t[2].name}),this.hasAddr=!1},handleUpdateInfo:function(t){var s=t.target.parentNode.getAttribute("type");"useAvatar"!==s&&"backgroundUrl"!==s||$Hybrid.appToNative("updateImg",s)},handlesex:function(){"number"!=typeof this.myInfo.sex&&Object(o.Toast)({message:"请进行实名认证",position:"bottom"})},handlebirthday:function(){this.myInfo.birthday||Object(o.Toast)({message:"请进行实名认证",position:"bottom"})},handleAddr:function(){this.handleAddrCell()}},watch:{isupdate:function(t,s){t&&this.$forceUpdate()}}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"my-info"},[a("div",[a("BaseTopbar",{attrs:{topbar:t.topbar}}),t._v(" "),a("div",{staticClass:"group"},[a("Cell",{staticClass:"item",attrs:{title:"头像",type:"useAvatar",emit:t.handleUpdateInfo}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.myInfo.useAvatar,expression:"myInfo.useAvatar"}],staticClass:"useAvatar",attrs:{alt:""}})]),t._v(" "),a("Cell",{attrs:{title:"背景图片",type:"backgroundUrl",emit:t.handleUpdateInfo}},[t.myInfo.backgroundUrl?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.myInfo.backgroundUrl+"?x-oss-process=image/resize,w_150",expression:"myInfo.backgroundUrl+'?x-oss-process=image/resize,w_150'"}],staticClass:"userBg",attrs:{alt:""}}):a("span",{staticClass:"span-2"},[t._v("未设置")])])],1),t._v(" "),a("div",{staticClass:"group"},[a("Cell",{staticClass:"item",attrs:{title:"昵称",path:"/personalCenter/edit/updateNickName"}},[a("span",{staticClass:"span-1"},[t._v(t._s(t.myInfo.useNickName))])]),t._v(" "),a("Cell",{attrs:{title:"性别",isShow:"false",emit:t.handlesex}},[0!=t.myInfo.sex&&1!=t.myInfo.sex?a("span",{staticClass:"span-1"},[t._v("请先实名认证")]):0===t.myInfo.sex?a("span",{staticClass:"span-1"},[t._v("女")]):1===t.myInfo.sex?a("span",{staticClass:"span-1"},[t._v("男")]):t._e()]),t._v(" "),a("Cell",{attrs:{title:"生日",isShow:"false",emit:t.handlebirthday}},[t.myInfo.birthday?a("span",{staticClass:"span-1"},[t._v(t._s(t.myInfo.birthday&&t.myInfo.birthday.substr(0,10)))]):a("span",{staticClass:"span-1"},[t._v("请先实名认证")])])],1),t._v(" "),a("div",{staticClass:"group"},[a("Cell",{staticClass:"item",attrs:{title:"主店铺",path:t.myInfo.shopNumber>1?"/personalCenter/edit/SwtichShop":"",isShow:!(t.myInfo.shopNumber>1)}},[t.myInfo.shopSimpleVO?a("span",{staticClass:"span-1"},[t._v(t._s(t.myInfo.shopSimpleVO&&t.myInfo.shopSimpleVO.shopName))]):a("span",{staticClass:"span-1"},[t._v("尚未创建任何店铺/网店")])]),t._v(" "),a("Cell",{attrs:{title:"地区",emit:t.handleAddr}},[t.myInfo.province?a("span",{staticClass:"span-1"},[t._v(t._s((t.myInfo.province||"")+" - "+(t.myInfo.city||"")+" - "+(t.myInfo.district||"")))]):a("span",{staticClass:"span-1"},[t._v("未设置")])])],1),t._v(" "),a("div",{staticClass:"group"},[a("Cell",{attrs:{title:"状态",path:"/personalCenter/edit/WorkState"}},[t.myInfo.workStatus?a("span",{staticClass:"span-1"},[t._v(t._s(t.myInfo.workStatus))]):a("span",{staticClass:"span-1"},[t._v("未添加")])])],1),t._v(" "),a("address-popup",{attrs:{show:t.hasAddr,defaultValue:t.defaultAddrValue},on:{overlayState:t.handleOverlay,confirmData:t.handleAddrConfirm}})],1)])},staticRenderFns:[]};var c=a("VU/8")(d,l,!1,function(t){a("Kohj")},"data-v-7c55de41",null);s.default=c.exports},Kohj:function(t,s){}});