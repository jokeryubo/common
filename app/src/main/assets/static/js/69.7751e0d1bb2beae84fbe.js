webpackJsonp([69],{"41j4":function(e,t){},WYLT:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=s("mvHQ"),o=s.n(a),n=s("bOdI"),p=s.n(n),d=(s("9++/"),s("QhyB")),h=(s("yffH"),s("sdMh")),l=s("cKc3"),r={components:(i={},p()(i,h.a.name,h.a),p()(i,d.a.name,d.a),i),data:function(){return{logo:"",shopName:"",status:!0,listData:[],pageNum:1,pageSize:10,isLoading:!1,loading:!1,finished:!1,immediateCheck:!1,finishedText:"已加载完毕",nodata:!1,shopId:"",type:""}},created:function(){var e=this,t=sessionStorage.getItem("appSservicesData");if(this.$route.query.shopId&&this.$route.query.type&&!t)this.shopId=this.$route.query.shopId,this.type=this.$route.query.type,this.getAppList();else if(t){var s=t=JSON.parse(t),i=s.logo,a=s.shopName,o=s.status,n=s.listData,p=s.pageNum,d=s.pageSize,h=s.isLoading,l=s.loading,r=s.finished,c=s.immediateCheck,u=s.finishedText,g=s.nodata,m=s.shopId,v=s.type;this.logo=i,this.shopName=a,this.status=o,this.listData=n,this.pageNum=p,this.pageSize=d,this.isLoading=h,this.loading=l,this.finished=r,this.immediateCheck=c,this.finishedText=u,this.nodata=g,this.shopId=m,this.type=v,sessionStorage.removeItem("appSservicesData")}else this.$eventHub.$off("decorateDetail").$on("decorateDetail",function(t){console.log("接收原生数据",t),e.shopId=t.id,e.type=t.type,e.getAppList()})},destroyed:function(){this.$eventHub.$off("decorateDetail")},deactivated:function(){this.$eventHub.$off("decorateDetail")},methods:{goback:function(){1===$Hybrid.routerList.length?$Hybrid.appToNative("close"):($Hybrid.routerList.pop(),this.$router.go(-1))},getAppList:function(e){var t=this;l.a.get({url:"app/case/list/page",data:{params:{shopId:this.shopId,type:this.type,pageNum:this.pageNum,pageSize:this.pageSize}}}).then(function(s){if(t.shopName=s.providerDO.shopName,t.logo=s.providerDO.logo,t.status=s.providerDO.centificationStatus,"pageadd"==e){var i=t.listData;s.appCaseDOPageResultVO.list.forEach(function(e){i.push(e)}),t.listData=i}else t.listData=s.appCaseDOPageResultVO.list;t.isLoading=!1,t.loading=!1,(s.appCaseDOPageResultVO.size>0&&s.appCaseDOPageResultVO.size<10||0==s.appCaseDOPageResultVO.size||0==s.appCaseDOPageResultVO.total)&&(t.finished=!0),0==s.appCaseDOPageResultVO.size&&0==s.appCaseDOPageResultVO.total?(t.nodata=!0,t.finishedText=""):t.nodata=!1})},godetial:function(e){console.log("type",this.type);var t="";switch(Number(this.type)){case 11:t="PurchaseDetail";break;case 9:t="CashierDetail";break;case 4:t="PublicityAppDetail";break;case 3:t="AdvertAppDetail";break;case 2:t="NativeShopsAppDetail"}console.log("页面路由",t),console.log("传递参数ID",e);var s=this.logo,i=this.shopName,a=this.status,n=this.listData,p=this.pageNum,d=this.pageSize,h=this.isLoading,l=this.loading,r=this.finished,c=this.immediateCheck,u=this.finishedText,g=this.nodata,m=this.shopId,v=this.type;return sessionStorage.setItem("appSservicesData",o()({logo:s,shopName:i,status:a,listData:n,pageNum:p,pageSize:d,isLoading:h,loading:l,finished:r,immediateCheck:c,finishedText:u,nodata:g,shopId:m,type:v})),this.$router.push({name:t,params:{shopId:e}}),!1},loadTop:function(){var e=this;setTimeout(function(){e.pageNum=1,e.finished=!1,e.getAppList()},1e3)},onLoad:function(){var e=this;this.pageNum+=1,setTimeout(function(){e.getAppList("pageadd")},1e3)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"AppSservicesList"}},[i("div",{staticClass:"contentBox"},[i("div",{staticClass:"fixed"},[i("div",{staticClass:"head"},[i("div",{staticClass:"back",on:{click:function(t){return e.goback()}}},[i("img",{attrs:{src:s("LHT2")}})]),e._v(" "),i("div",{staticClass:"company"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.logo+"?x-oss-process=image/resize,w_150",expression:"logo+'?x-oss-process=image/resize,w_150'"}]}),e._v(" "),i("span",{staticClass:"companyName"},[e._v(e._s(e.shopName))]),e._v(" "),e.status?i("span",{staticClass:"status"},[e._v("已认证")]):e._e()])])])]),e._v(" "),i("div",{staticClass:"content-list"},[i("van-pull-refresh",{on:{refresh:e.loadTop},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[i("div",{staticClass:"refresh-box"},[i("van-list",{staticClass:"van-list",attrs:{finished:e.finished,"finished-text":e.finishedText,"immediate-check":e.immediateCheck},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("div",{staticClass:"item-box"},e._l(e.listData,function(t,s){return i("div",{key:s,staticClass:"item",on:{click:function(s){return e.godetial(t.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageList[0]+"?x-oss-process=image/resize,w_700",expression:"v.imageList[0]+'?x-oss-process=image/resize,w_700'"}]}),e._v(" "),i("div",{staticClass:"name"},[e._v(e._s(t.resourceName))])])}),0),e._v(" "),e.nodata?i("div",{staticClass:"nodata"},[e._v("\n                        暂无案例\n                    ")]):e._e()])],1)])],1)])},staticRenderFns:[]};var u=s("VU/8")(r,c,!1,function(e){s("41j4")},"data-v-62978c24",null);t.default=u.exports}});