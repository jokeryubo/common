webpackJsonp([29],{"0b2h":function(t,a){},"2F+H":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("Gu7T"),i=s.n(e),n=s("tmUd"),o=s("VaMN"),l=s("xTpf"),h=s("cKc3"),c={name:"Purchase",data:function(){return{topbar:{isShow:!0,title:""},keyword:"",PurchaseData:[],DropText:"推荐",pageNum:1,nocitydatatag:!1,loadingMessage:"",loadingMessage2:"抱歉,当前城市的服务正在开通中，您可以试试其他城市~~",shopName:"",tags:"11",lon:104.069498,lat:30.552376,city:"成都市",loading:!1,finished:!1,options:[{text:"推荐",value:""},{text:"厨房设备",value:"5"},{text:"桌椅橱柜",value:"6"},{text:"食材",value:"7"},{text:"服务用品",value:"8"}]}},components:{InfoItem:l.a,BaseTopSearch:n.a,InfiniteScroll:o.a},created:function(){console.log("采购专区定位信息",this.$eventHub._data.$location),this.lon=this.$eventHub._data.$location.lon,this.lat=this.$eventHub._data.$location.lat,this.city=this.$eventHub._data.$location.cityName,this.GetData(this.shopName,this.tags,this.lon,this.lat,this.pageNum)},methods:{onSearch:function(t){this.pageNum=1,this.loading=!1,this.shopName=t,this.loadingMessage="",this.PurchaseData=[],this.GetData(this.shopName,this.tags,this.lon,this.lat,this.pageNum)},handleChange:function(t){this.tags=""==t?"11":t,this.pageNum=1,this.loading=!1,this.loadingMessage="",this.PurchaseData=[],this.GetData(this.shopName,this.tags,this.lon,this.lat,this.pageNum)},loadTop:function(){this.loadingMessage="",this.pageNum=1,this.GetData(this.shopName,this.tags,this.lon,this.lat,this.pageNum,"refresh")},GetData:function(t,a,s,e,n,o){var l=this;h.a.get({url:"app/provider/info/get/nearby",data:{params:{shopName:t,tags:a,lon:s,lat:e,city:this.city,pageNumber:n,pageSize:20}}}).then(function(s){l.loading=!1;var e=s.total,n=s.contents;l.PurchaseData="refresh"!==o?[].concat(i()(l.PurchaseData),i()(n)):[].concat(i()(n)),l.PurchaseData.length>=e?l.finished=!0:(l.pageNum+=1,l.finished=!1),l.loadingMessage=0==e?"没有搜索到相关内容":"已经全部加载完毕",t||1!=l.pageNum||11!=a||0!=e||(l.nocitydatatag=!0)})},handClick:function(t,a){if("GotoDetail"==t)return this.$router.push({name:"AppSservicesList",query:{shopId:a,type:"11"}}),!1},loadMoreCallBack:function(){this.loading=!0,this.GetData(this.shopName,this.tags,this.lon,this.lat,this.pageNum)}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"Purchase"}},[e("base-top-search",{attrs:{option:t.options,placeholder:"搜索公司名称"},on:{search:t.onSearch,change:t.handleChange}}),t._v(" "),e("div",{staticClass:"container"},[e("infinite-scroll",{attrs:{isDelayed:!0,loading:t.loading,finished:t.finished,data:t.PurchaseData,text:t.nocitydatatag?t.loadingMessage2:t.loadingMessage},on:{refresh:t.loadTop,loadMore:t.loadMoreCallBack}},t._l(t.PurchaseData,function(a,i){return e("div",{key:i,staticClass:"list",on:{click:function(s){return t.handClick("GotoDetail",a.shopId)}}},[e("div",{staticClass:"img-box"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.logo+"?x-oss-process=image/resize,w_150",expression:"value.logo+'?x-oss-process=image/resize,w_150'"}]})]),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"list-content"},[e("div",{staticClass:"text-box"},[e("span",[t._v(t._s(a.shopName))]),t._v(" "),0!=a.vipStatus?e("img",{attrs:{src:s("RSf1")}}):t._e()]),t._v(" "),e("div",{staticClass:"distance"},[t._v(t._s(a.distance/1e3+"km"))])]),t._v(" "),t._l(a.tagsList,function(a,s){return e("span",{key:s,staticClass:"desc"},[t._v(t._s(a))])})],2)])}),0)],1)],1)},staticRenderFns:[]};var g=s("VU/8")(c,r,!1,function(t){s("0b2h")},"data-v-20d1ad34",null);a.default=g.exports},msm9:function(t,a){},xTpf:function(t,a,s){"use strict";var e=s("mvHQ"),i=s.n(e),n=s("B1Az"),o=(s("Au9i"),{data:function(){return{jobHighlightLabelArr:[]}},props:["itemData","type"],created:function(){},mounted:function(){this.itemData.jobHighlightLabel&&this.itemData.jobHighlightLabel.length>4?(this.jobHighlightLabelArr=JSON.parse(i()(this.itemData.jobHighlightLabel)),this.jobHighlightLabelArr.splice(3,this.jobHighlightLabelArr.length-4)):this.jobHighlightLabelArr=this.itemData.jobHighlightLabel},methods:{gopage:function(t){"resume"==this.type?this.$router.push({name:"ResumeDetial",params:{id:t}}):"job"==this.type&&this.$router.push({name:"JobDetialshow",params:{id:t}})}},components:{Cell:n.a}}),l={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"infoItem"},on:{click:function(a){return t.gopage(t.itemData.id)}}},[s("div",{staticClass:"infoBox"},[s("p",{staticClass:"main"},[s("span",{staticClass:"title"},[t._v(t._s(t.itemData.postLabel?t.itemData.postLabel.join("/"):t.itemData.intensionJobName))]),t._v(" "),s("span",{staticClass:"price"},[t._v(t._s(t.itemData.intensionSalLeft)+"-"+t._s(t.itemData.intensionSalRight))])]),t._v(" "),s("div",{staticClass:"contentBox"},[s("div",{staticClass:"right"},[s("p",{staticClass:"time"},[t._v("\n                    发布时间\n                    "),s("span",[t._v(t._s(t.itemData.createTime))])])]),t._v(" "),s("div",{staticClass:"left"},[s("div",{staticClass:"content"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.itemData.resumeAvatar+"?x-oss-process=image/resize,w_150",expression:"itemData.resumeAvatar+'?x-oss-process=image/resize,w_150'"}],staticClass:"image"}),t._v(" "),"job"==t.type?s("div",{staticClass:"desc"},[s("p",{staticClass:"name"},[t._v(t._s(t.itemData.realName))]),t._v(" "),s("div",{staticClass:"tags"},["简历"==t.itemData.flag?s("div",[s("span",{staticClass:"tag"},[t._v(t._s("1"==t.itemData.sex?"男":"女"))]),t._v(" "),s("span",{staticClass:"tag"},[t._v(t._s(t.itemData.age)+"岁")]),t._v(" "),s("span",{staticClass:"tag"},[t._v(t._s(t.itemData.jobYearsLeft)+"-"+t._s(t.itemData.jobYearsRight)+"年")]),t._v(" "),s("span",{staticClass:"tag"},[t._v(t._s(t.itemData.jobCity))])]):t._e(),t._v(" "),"招聘"==t.itemData.flag?s("div",[s("span",{staticClass:"tag"},[t._v(t._s(t.itemData.jobYearsLeft)+"-"+t._s(t.itemData.jobYearsRight)+"年")]),t._v(" "),t._l(JSON.parse(JSON.stringify(this.itemData.jobHighlightLabel)),function(a,e){return s("span",{key:e},[e<4?s("span",{staticClass:"tag"},[t._v(t._s(a.name))]):t._e()])})],2):t._e()])]):t._e(),t._v(" "),"resume"==t.type?s("div",{staticClass:"desc"},[s("p",{staticClass:"name"},[t._v(t._s(t.itemData.realName))]),t._v(" "),s("div",{staticClass:"tags"},[s("span",{staticClass:"laber_text"},[t._v(t._s("1"==t.itemData.sex?"男":"女"))]),t._v(" "),s("span",{staticClass:"icon"}),t._v(" "),s("span",{staticClass:"laber_text"},[t._v(t._s(t.itemData.age)+"岁")]),t._v(" "),s("span",{staticClass:"icon"}),t._v(" "),s("span",{staticClass:"laber_text"},[t._v(t._s(t.itemData.jobYearsLeft)+"-"+t._s(t.itemData.jobYearsRight)+"年")]),t._v(" "),s("span",{staticClass:"icon"}),t._v(" "),s("span",{staticClass:"laber_text"},[t._v(t._s(t.itemData.jobCity))])]),t._v(" "),t.itemData.dishesLabel.length>0?s("div",{staticClass:"tags"},t._l(t.itemData.dishesLabel,function(a,e){return s("span",{key:e,staticClass:"tag"},[t._v(t._s(a))])}),0):t._e()]):t._e()])])])])])},staticRenderFns:[]};var h=s("VU/8")(o,l,!1,function(t){s("msm9")},"data-v-1a2bd980",null);a.a=h.exports}});