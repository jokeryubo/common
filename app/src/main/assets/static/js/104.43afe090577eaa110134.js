webpackJsonp([104],{XlH9:function(e,t){},yIzf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("mvHQ"),a=r.n(s),i=r("bOdI"),o=r.n(i),n=(r("MY4N"),r("0zAV")),d=r("d4/4"),c=r("w2+g"),u=r("cU4i"),m=r("B1Az"),l=r("cKc3"),p=r("Au9i"),h={data:function(){return{topbar:{isShow:!0,title:"证照办理",callBack:this.goBack,message:{title:"提示信息",message:"已填的信息将丢失，确认返回？"}},params:{saveEditAddressInfo:!1,changeLocalMyinfo:!1,hasAddressInfo:!1,Address:{}},operatorName:"",detialAddress:"",placetag:"请选择地区",provinceId:"",cityId:"",districtId:"",registerName1:"",registerName2:"",registerName3:"",registerName4:"",timer:null,hasAddr:!1,defaultAddrValue:""}},components:o()({BaseTopbar:d.a,Cell:m.a,MessageBox:p.MessageBox,Toast:p.Toast,AddressSelection:c.a,AddressPopup:u.a},n.a.name,n.a),created:function(){if(console.log("接受参数132",this.$route.params.data),this.$route.params.data){var e=this.$route.params.data;this.operatorName=e.operatorName,this.detialAddress=e.address,this.registerName1=e.registerName1,this.registerName2=e.registerName2,this.registerName3=e.registerName3,this.registerName4=e.registerName4}},mounted:function(){if(window.sessionStorage.getItem("editAccreditationOrder")){var e=JSON.parse(window.sessionStorage.getItem("editAccreditationOrder"));this.operatorName=e.operatorName,this.detialAddress=e.address,this.registerName1=e.registerName1,this.registerName2=e.registerName2,this.registerName3=e.registerName3,this.registerName4=e.registerName4}},computed:{showtype:function(){var e;if(this.$route.params.data){if(0==(e=this.$route.params.data).businessType)return 0;if(1==e.businessType)return 1;if(2==e.businessType)return 2}if(window.sessionStorage.getItem("editAccreditationOrder")){if(0==(e=JSON.parse(window.sessionStorage.getItem("editAccreditationOrder"))).businessType)return 0;if(1==e.businessType)return 1;if(2==e.businessType)return 2}return 0==this.$route.params.BusinesstType?(console.log("新办"),0):1==this.$route.params.BusinesstType?(console.log("变更"),1):2==this.$route.params.BusinesstType?(console.log("注销"),2):void 0},canSubmit:function(){var e;if(window.sessionStorage.getItem("editAccreditationOrder")||this.$route.params.data){if(0==(e=JSON.parse(window.sessionStorage.getItem("editAccreditationOrder"))||this.$route.params.data).businessType)return""!==this.operatorName&&""!==this.detialAddress&&"请选择地区"!==this.placetag&&""!==this.registerName1;if(1==e.businessType)return""!==this.operatorName&&""!==this.detialAddress&&"请选择地区"!==this.placetag;if(2==e.businessType)return""!==this.operatorName}return 0==this.$route.params.BusinesstType?""!==this.operatorName&&""!==this.detialAddress&&"请选择地区"!==this.placetag&&""!==this.registerName1:1==this.$route.params.BusinesstType?""!==this.operatorName&&""!==this.detialAddress&&"请选择地区"!==this.placetag:2==this.$route.params.BusinesstType?""!==this.operatorName:void 0},nohightLight:function(){return""===this.operatorName&&""===this.detialAddress&&"请选择地区"===this.placetag&&""===this.registerName1&&""===this.registerName2&&""===this.registerName3&&""===this.registerName4}},methods:{handleAddrCell:function(){this.hasAddr=!0},handleOverlay:function(){this.hasAddr=!1},handleAddrConfirm:function(e){console.log("---\x3edata:",e),this.placetag=e[0].name+"-"+e[1].name+"-"+e[2].name,this.provinceId=e[0].code,this.cityId=e[1].code,this.districtId=e[2].code,this.hasAddr=!1},goBack:function(){return window.sessionStorage.removeItem("editAccreditationOrder"),!0},checkoperatorName:function(){this.operatorName=this.operatorName.replace(/[^A-Za-z0-9_\u4e00-\u9fa5]/g,"")},checkdetialAddress:function(){},checkName:function(e){switch(e){case 1:this.registerName1=this.registerName1.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"");break;case 2:this.registerName2=this.registerName2.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"");break;case 3:this.registerName3=this.registerName3.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"");break;case 4:this.registerName4=this.registerName4.replace(/[^A-Za-z0-9\u4e00-\u9fa5]/g,"")}},inputBottom:function(e,t){if("iOS"==$Hybrid.$type)return!1;document.getElementsByClassName("AccreditationRequirementSub")[0].style.marginBottom=t+"px",document.documentElement.scrollTop=t,document.body.scrollTop=t},save:function(){var e=this;if(!this.canSubmit)return Object(p.Toast)({message:"请补全信息",position:"bottom"}),!1;var t={accountType:this.$route.params.AccountType,businessType:this.$route.params.BusinesstType,licenceType:this.$route.params.Certificates,operatorName:this.operatorName,provinceId:this.provinceId,cityId:this.cityId,districtId:this.districtId,address:this.detialAddress,registerName1:this.registerName1,registerName2:this.registerName2,registerName3:this.registerName3,registerName4:this.registerName4},r=void 0;if(window.sessionStorage.getItem("editAccreditationOrder")&&(r=JSON.parse(window.sessionStorage.getItem("editAccreditationOrder")),t.accountType=r.accountType,t.businessType=r.businessType,t.licenceType=r.licenceType),this.$route.params.data){var s=this.$route.params.data;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.timer=null,l.a.post({url:"order/order/accreditation/refill",data:{params:{accountType:s.accountType,businessType:s.businessType,licenceType:s.licenceType,operatorName:e.operatorName,provinceId:e.provinceId,cityId:e.cityId,districtId:e.districtId,address:e.detialAddress,registerName1:e.registerName1,registerName2:e.registerName2,registerName3:e.registerName3,registerName4:e.registerName4,accreditationIdDTO:{orderId:e.$route.params.data.id,auditId:e.$route.params.data.auditId}}}}).then(function(t){0==t.code&&(console.log("router",$Hybrid.routerList),$Hybrid.routerList=[],e.$router.replace({name:"OrderAccreditation"}))})},500)}else{this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.timer=null,l.a.post({url:"order/order/accreditation/add",data:{params:t}}).then(function(r){0==r.code&&(window.sessionStorage.setItem("editAccreditationOrder",a()(t)),e.$router.push({name:"OrderAccreditation"}))})},500)}}}},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"AccreditationRequirementSub"},[r("BaseTopbar",{attrs:{topbar:e.topbar}}),e._v(" "),r("div",{staticClass:"main"},[r("Cell",{staticClass:"item",attrs:{title:"经营者姓名",isShow:"false","is-link":""}},[r("van-field",{staticClass:"user-name lineHeight-normal",attrs:{"input-align":"right",clearable:"",maxlength:"20",placeholder:"请填写真实名称"},on:{input:function(t){return e.checkoperatorName()}},model:{value:e.operatorName,callback:function(t){e.operatorName=t},expression:"operatorName"}})],1),e._v(" "),0==e.showtype||1==e.showtype?r("Cell",{staticClass:"item",attrs:{title:"经营场所(地址)",emit:e.handleAddrCell,"is-link":""}},[r("span",{staticClass:"pacle"},[e._v(e._s(e.placetag))])]):e._e(),e._v(" "),0==e.showtype||1==e.showtype?r("div",{staticClass:"describeBox"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.detialAddress,expression:"detialAddress"}],staticClass:"describe",attrs:{maxlength:"50",placeholder:"请输入详细地址（精确到楼层门牌号）"},domProps:{value:e.detialAddress},on:{input:[function(t){t.target.composing||(e.detialAddress=t.target.value)},function(t){return e.checkdetialAddress()}]}})]):e._e(),e._v(" "),0==e.showtype?r("div",{staticClass:"name-box"},[r("Cell",{staticClass:"item",attrs:{title:"注册名字",isShow:"false"}}),e._v(" "),r("div",{staticClass:"item-input"},[r("van-field",{staticClass:"input-name lineHeight-normal",attrs:{clearable:"",maxlength:"50",placeholder:"输入最喜欢的名字（必填）"},on:{input:function(t){return e.checkName(1)},focus:function(t){return e.inputBottom(0,190)},blur:function(t){return e.inputBottom(0,0)}},model:{value:e.registerName1,callback:function(t){e.registerName1=t},expression:"registerName1"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("van-field",{staticClass:"input-name lineHeight-normal",attrs:{clearable:"",maxlength:"50",placeholder:"输入第二喜欢的名字（选填）"},on:{input:function(t){return e.checkName(2)},focus:function(t){return e.inputBottom(1,190)},blur:function(t){return e.inputBottom(1,0)}},model:{value:e.registerName2,callback:function(t){e.registerName2=t},expression:"registerName2"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("van-field",{staticClass:"input-name lineHeight-normal",attrs:{clearable:"",maxlength:"50",placeholder:"输入第三喜欢的名字（选填）"},on:{input:function(t){return e.checkName(3)},focus:function(t){return e.inputBottom(2,190)},blur:function(t){return e.inputBottom(2,0)}},model:{value:e.registerName3,callback:function(t){e.registerName3=t},expression:"registerName3"}})],1),e._v(" "),r("div",{staticClass:"item-input"},[r("van-field",{staticClass:"input-name lineHeight-normal",attrs:{clearable:"",maxlength:"50",placeholder:"输入第四喜欢的名字（选填）"},on:{input:function(t){return e.checkName(4)},focus:function(t){return e.inputBottom(3,190)},blur:function(t){return e.inputBottom(3,0)}},model:{value:e.registerName4,callback:function(t){e.registerName4=t},expression:"registerName4"}})],1)],1):e._e(),e._v(" "),0==e.showtype?r("div",{staticClass:"tips"},[r("p",[e._v("友情提示:")]),e._v(" "),r("p",[e._v("请先核实店铺信息符合以下条件:")]),e._v(" "),r("p",[e._v("1.是否可以办理餐饮经营范围和类别的条件;")]),e._v(" "),r("p",[e._v("2.是否可以通过环境评测(根据最新大气环保法规定地上不得经营范围);")]),e._v(" "),r("p",[e._v("3.可以通过消防检测(面积300平以内网上申报,超过300需到消防辖区大队申报);")])]):e._e()],1),e._v(" "),r("button",{class:e.nohightLight?"saveBtn no":"saveBtn",on:{click:function(t){return e.save()}}},[e._v("\n            发起需求\n        ")]),e._v(" "),r("address-popup",{attrs:{show:e.hasAddr,defaultValue:e.defaultAddrValue},on:{overlayState:e.handleOverlay,confirmData:e.handleAddrConfirm}})],1)},staticRenderFns:[]};var N=r("VU/8")(h,g,!1,function(e){r("XlH9")},"data-v-23175dba",null);t.default=N.exports}});